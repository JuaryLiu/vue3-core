{"version":3,"file":"runtime-dom.global.js","sources":["../../shared/src/index.ts","../src/nodeOps.ts","../src/modules/class.ts","../src/modules/style.ts","../src/modules/attr.ts","../src/modules/event.ts","../src/patchProp.ts","../../runtime-core/src/vnode.ts","../../runtime-core/src/apiCreateApp.ts","../../runtime-core/src/componentPubilcInstance.ts","../../runtime-core/src/component.ts","../../reactivity/src/effect.ts","../../reactivity/src/baseHandlers.ts","../../reactivity/src/reactivety.ts","../../reactivity/src/ref.ts","../../reactivity/src/computed.ts","../../runtime-core/src/apiLifecycle.ts","../../runtime-core/src/render.ts","../../runtime-core/src/h.ts","../src/index.ts"],"sourcesContent":["export const extend = Object.assign\r\n\r\nconst hasOwnProperty = Object.prototype.hasOwnProperty\r\nexport const hasOwn = (\r\n    val: object,\r\n    key: string | symbol\r\n): key is keyof typeof val => hasOwnProperty.call(val, key)\r\n\r\nexport const isArray = Array.isArray\r\n\r\nexport const isFunction = (val: unknown): val is Function =>\r\n    typeof val === 'function'\r\n\r\nexport const isString = (val: unknown): val is string => typeof val === 'string'\r\nexport const isSymbol = (val: unknown): val is symbol => typeof val === 'symbol'\r\nexport const isObject = (val: unknown): val is Record<any, any> => val !== null && typeof val === 'object'\r\n\r\n// 判断数组的key 是不是一个整数\r\nexport const isIntegerKey = (key:any) => parseInt(key) +'' === key\r\n\r\n\r\n//判断两个值是否相等\r\nexport const hasChanged  = (value:any,oldval:any):boolean => value !==oldval\r\nexport * from './shapeFlag'","// 操作节点 增删改查\r\nexport const nodeOps ={\r\n    // 操作元素\r\n    // 创建元素\r\n    createElement:(tagName:any) => document.createElement(tagName),\r\n    // 删除元素\r\n    remove:(child:any) => {\r\n        let parent = child.parentNode\r\n        if(parent) {\r\n            parent.removeChild(child)\r\n        }\r\n    },\r\n    // 插入元素\r\n    insert:(child:any,parent:any,ancher=null) => {\r\n        parent.insertBefore(child,ancher) //如果ancher为null的时候，就类似于appendChild追加子元素\r\n\r\n    },\r\n    //获取元素\r\n    querySlecter:(select:any) => document.querySelector(select),\r\n    // 获取元素文本\r\n    setElementText:(el:any,text:any) => el.textContent = text,\r\n\r\n\r\n    // 操作文本\r\n    //创建文本\r\n    createText:(text:any )=> document.createTextNode(text),\r\n    //设置文本\r\n    setText:(node:any,text:any) => node.nodevalue(text),\r\n\r\n}","// 处理 class样式\r\n\r\nexport const patchClass = (el:Element,value:any) => {\r\n    if(value === '')  {\r\n        value = ''\r\n    }\r\n    el.className = value\r\n}","// style 的处理\r\n\r\nexport const patchStyle = (el: any, prev: any, next: any) => {\r\n    const style = el.style\r\n    if (next === null) {\r\n        el.removeAttribute('style')\r\n    } else {\r\n        // 旧的有，新的没有\r\n        if (prev) {\r\n            for (let k in prev) {\r\n                if (next[k]) {\r\n                    style[k] = ''\r\n                }\r\n            }\r\n        }\r\n        // 新的有\r\n\r\n        for (let k in next) {\r\n            style[k] = next[k]\r\n        }\r\n\r\n    }\r\n}","// 自定义属性\r\nexport const pathAttr = (el:any,key:any,value:any) => {\r\n    if(value === null) {\r\n        el.removeAttribute(key)\r\n    } else {\r\n        el.removeAttribute(key,value)\r\n    }\r\n}","// 处理事件\r\nexport const pathEvent = (el:any,key:any,value:any) => {\r\n    // 1. 对函数进行缓存\r\n    const invokers = el._vei || (el._vet ={})\r\n    const exists = invokers[key]\r\n    if(exists&&value) { // 缓存的函数表中有\r\n        exists.value =value\r\n    } else {\r\n        const eventName = key.slice(2).toLowerCase()\r\n        if(value) {\r\n            let invoker = invokers[eventName] = createInvoker(value)\r\n            el.addEventListener(eventName,invoker)\r\n        } else { // 没有 ，删除之前的\r\n            el.removeEventListener(eventName,exists)\r\n            invokers[eventName] = undefined\r\n        }\r\n    }\r\n}\r\nfunction createInvoker(value:any) {\r\n    const invoker = (e:Event) => {\r\n        invoker.value(e)\r\n    }\r\n    invoker.value = value\r\n    return invoker\r\n}","// 操作属性\r\nimport {patchClass} from './modules/class'\r\nimport { patchStyle } from './modules/style'; \r\nimport { pathAttr } from './modules/attr';\r\nimport { pathEvent } from './modules/event';\r\nexport const patchProp = (el:Element,key:any,prevValue:any,nextValue:any) => {\r\n    switch(key) {\r\n        case 'class':\r\n            patchClass(el,prevValue)\r\n        break;\r\n        case 'style':\r\n            patchStyle(el,prevValue,nextValue)\r\n        break;\r\n        default:\r\n            if(/^on[^a-z]/.test(key)) { // 是不是事件\r\n                pathEvent(el,key,nextValue)\r\n            } else {\r\n                pathAttr(el,key,nextValue)\r\n            }\r\n            break;\r\n    }\r\n}","// 创建vnode\r\n// createVnode = h函数\r\nimport { ShapeFlags, isArray, isObject, isString } from \"@vue/shared\"\r\nexport const createVnode = (type:any,props:any,children:any =null) => {\r\n    // 区分 是组件还是元素\r\n    let shapeFlag = isString(type)?ShapeFlags.ELEMENT:isObject(type)?ShapeFlags.STATEFUL_COMPONENT:0\r\n    const vnode = {\r\n        _v_isVnode:true, // 是一个虚拟节点\r\n        type,\r\n        props,\r\n        children,\r\n        key:props && props.key, // diff算法会使用到\r\n        el:null, // 和真实的元素和vnode对应\r\n        component:{},\r\n        shapeFlag\r\n    }\r\n    //children 标识\r\n    normalizeChildren(vnode,children)\r\n    return vnode\r\n}\r\n\r\nfunction normalizeChildren(vnode:any,children:unknown) {\r\n    let type = 0\r\n    if(children == null) {\r\n        children = null\r\n    }else if(isArray(children)) { // 数组\r\n        type = ShapeFlags.ARRAY_CHILDREN\r\n    } else { // 文本\r\n        type =ShapeFlags.TEXT_CHILDREN\r\n    }\r\n    vnode.shapeFlag = vnode.shapeFlag | type // 合并标识\r\n}\r\n\r\n\r\nexport function isVnode(vnode:any) {\r\n    return vnode._v_isVnode\r\n}\r\n\r\nexport const TEXT = Symbol('test')\r\n\r\nexport function CVnode(child:any) {\r\n    if(isObject(child)) return child\r\n    return createVnode(TEXT,null,String(child))\r\n}","import { createVnode } from \"./vnode\"\r\n// 将组件转换为虚拟dom\r\nexport function ApiCreateApp(render:Function) {\r\n    return function createApp(rootComponent: any, rootProps: any) { // 那个组件，那个属性\r\n        let app = {\r\n            // 添加相关的属性\r\n            _component:rootComponent,\r\n            _props:rootProps,\r\n            _container:null,\r\n            mount(container: any) { // 挂载的位置\r\n                // 1. 创建vnode ，根据组件创建虚拟节点\r\n                let vnode = createVnode(rootComponent,rootProps)\r\n                // console.log(vnode);\r\n                \r\n                //渲染\r\n                render(vnode,container)\r\n                app._container = container\r\n            }\r\n        }\r\n        return app\r\n    }\r\n} ","import { hasOwn } from \"@vue/shared\"\r\n\r\nexport const componentPubilcInstance = {\r\n    get({_:instance}:any,key:any) {\r\n        const {props,setupState} = instance\r\n        \r\n        if(key[0] === '$') { // 属性$开头的不能获取\r\n            return \r\n        }\r\n        if(hasOwn(props,key)) {\r\n            return props[key]\r\n        } else if(hasOwn(setupState,key)) {\r\n            return setupState[key]\r\n        }\r\n    },\r\n    set({_:instance}:any,key:any,value:any) {\r\n        const {props,setupState} = instance\r\n        if(hasOwn(props,key)) {\r\n            props[key] = value\r\n        } else if(hasOwn(setupState,key)) {\r\n             setupState[key] = value\r\n        }\r\n    }\r\n}","import { ShapeFlags, isFunction, isObject } from \"@vue/shared\"\r\nimport { componentPubilcInstance } from \"./componentPubilcInstance\"\r\n\r\nexport const getCurrentInstance = () => {\r\n    return  currentInstance\r\n}\r\n\r\nexport const setCurrentInstance = (target:any) => {\r\n    currentInstance = target\r\n}\r\n// 创建一个组件实例\r\nexport const crteatComponentInstance = (InitialVnode:any) => {\r\n    const instance = {\r\n        InitialVnode,\r\n        type:InitialVnode.type,\r\n        props:{}, //组件的属性\r\n        attrs:{}, // attrs 可以拿到所有属性，处理class和style\r\n        setupState:{},\r\n        ctx:{}, // 处理代理\r\n        proxy:{},\r\n        render:false,\r\n        isMounted:false,  // 是否挂载 \r\n    }\r\n    instance.ctx = {_:instance}\r\n    \r\n    return instance\r\n}\r\n\r\n// 解析数据到组件实例\r\nexport const setupComponent = (instance:any) => {\r\n\r\n   const {props,children} = instance.InitialVnode\r\n   instance.props = props\r\n   instance.children = children // slots 插槽\r\n    // 判断这个组件有没有setup\r\n   let shapeFlag = instance.InitialVnode.shapeFlag & ShapeFlags.STATEFUL_COMPONENT\r\n   if(shapeFlag) { // 有状态的组件\r\n        setupStateComponent(instance)\r\n   }\r\n    \r\n}\r\n\r\n// 处理 setup\r\nexport let currentInstance:any\r\nfunction setupStateComponent(instance:any) {\r\n    instance.proxy = new Proxy(instance.ctx,componentPubilcInstance as any) // 方便取值\r\n    \r\n    // setup 的返回值 是render函数的参数\r\n    let Component = instance.type\r\n    let {setup} = Component\r\n    if(setup) { // 判断setup是否存在\r\n        let setupContext = createContext(instance)\r\n        // 在 setup之前创建全局的实例\r\n        currentInstance =instance\r\n       let setupResult = setup(instance.props,setupContext)\r\n       currentInstance = null\r\n        handlerSetupResult(instance,setupResult) // 判断返回值是对象还是函数，对象就把结果放到instance.setupState上，如果是 函数，那么就是render函数\r\n    } else {\r\n        // 调用render\r\n        finishComponentSetup(instance)\r\n    }\r\n   \r\n    // Component.render(instance.proxy)\r\n}\r\n\r\n// 处理setup 的返回结果\r\nfunction handlerSetupResult(instance:any,setupResult:unknown) {\r\n    if(isObject(setupResult)) {\r\n        instance.setupState = setupResult\r\n    }\r\n    if(isFunction(setupResult)) {\r\n        instance.render = setupResult\r\n    }\r\n\r\n    // 执行render方法\r\n    finishComponentSetup(instance)\r\n}\r\n\r\n// 处理render\r\nfunction finishComponentSetup(instance:any) {\r\n    let Component = instance.type\r\n    console.log(Component,instance);\r\n    \r\n    if(!instance.render) { \r\n        if(!Component.render&&Component.template) { // 将template编译成render函数\r\n            \r\n        }\r\n        instance.render = Component.render\r\n        \r\n    }\r\n    instance.render(instance.proxy)\r\n}\r\n\r\nfunction createContext(instance:any) {\r\n    return {\r\n        attrs:instance.attrs,\r\n        slots:instance.children,\r\n        emit:()=> {},\r\n        expose:()=>{}\r\n    }\r\n}\r\n\r\n","// effect 收集依赖\r\n\r\nimport { isArray, isIntegerKey } from \"@vue/shared\"\r\nimport { TriggerOpTypes } from \"./operations\"\r\n\r\nexport function effect(fn: Function, options: any = {}) {\r\n    const effect = createReactEffect(fn, options)\r\n    if (!options.lazy) {\r\n        effect()\r\n    }\r\n\r\n    return effect\r\n}\r\nlet uid = 0\r\nlet activeEffect: any  //保存当前的effect\r\n\r\nconst effectStack: any = []  //定义一个栈结构 来解决effect的树结构\r\nfunction createReactEffect(fn: Function, options: any) {\r\n    const effect = function reactiveEffect() {\r\n        // 防止多个effect嵌套\r\n        if (!effectStack.includes(effect)) { // 确保effect 没有入栈\r\n            try {\r\n                // 入栈\r\n                effectStack.push(effect)\r\n                activeEffect = effect\r\n                 return fn()\r\n            } finally {\r\n                // 出栈\r\n                effectStack.pop()\r\n                activeEffect = effectStack[effectStack.length - 1]\r\n            }\r\n        }\r\n\r\n    }\r\n    effect.id = uid++  // 区别effect作用者\r\n    effect._isEffect = true // 区分effect 是不是响应式的\r\n    effect.raw = fn  //保存用户的方法\r\n    effect.options = options  //保存用户的配置项\r\n    return effect\r\n}\r\n\r\n// 收集effect 触发get的时候 收集effect\r\nlet targetMap = new WeakMap() // 创建结构表\r\nexport function Track(target: object, type: any, key: string | symbol) {\r\n    // 对应的key \r\n    // key 和 effect 一一对应  map => key =>target对象 value => [effect] set\r\n    if(activeEffect === undefined) { //没有effect中使用\r\n        return\r\n    }\r\n     // 获取effect\r\n     let depMap = targetMap.get(target)\r\n    if(!depMap) {\r\n        targetMap.set(target,(depMap = new Map))\r\n    }\r\n    let dep = depMap.get(key)\r\n    if(!dep) { //没有属性\r\n        depMap.set(key,(dep = new Set))\r\n    }\r\n    if(!dep.has(activeEffect)) {\r\n        dep.add(activeEffect)\r\n    }\r\n    // console.log(targetMap);\r\n}\r\n\r\nexport function trigger(target:object,type:any,key?:any,newValue?:any,oldValue?:any) {\r\n    // console.log(target,key,type,newValue,oldValue);\r\n    const depsMap = targetMap.get(target) //Map\r\n    // 收集依赖结构表中没有这个对象\r\n    if(!depsMap) return\r\n    //有\r\n    let effectSet = new Set() // 避免重复，减少执行次数\r\n    const add = (effectAdd:any) => {\r\n        if(effectAdd) {\r\n            effectAdd.forEach((effect:any)=> effectSet.add(effect))\r\n        }\r\n    }\r\n\r\n    // 处理数组 当key为lenght的时候   就是修改数组的length\r\n    if(key === 'length' && isArray(target)) {\r\n        depsMap.forEach((dep:any,key:any) => {\r\n            if(key === 'length' || key >= (newValue as number)) {\r\n                add(dep)\r\n            }\r\n        })\r\n    } else {\r\n        // 可能是对象\r\n        if(key != undefined) {\r\n            add(depsMap.get(key))\r\n        }\r\n        // 数组 通过索引来修改\r\n        switch(type) {\r\n            case TriggerOpTypes.ADD:\r\n                if(isArray(target)&&isIntegerKey(key)) {\r\n                    add(depsMap.get('length'))\r\n                }\r\n        }\r\n    }\r\n    effectSet.forEach((effect:any) => {\r\n        if(effect.options.sch) {\r\n            effect.options.sch() // 此时_dirty = true\r\n        } else {\r\n            effect()\r\n        }\r\n    } )\r\n    \r\n}","import { isObject, isArray, isIntegerKey, hasOwn, hasChanged } from \"@vue/shared\"\r\nimport { reactive, readonly } from \"./reactivety\"\r\nimport { TrackOpTypes, TriggerOpTypes } from './operations'\r\nimport { Track, trigger } from './effect'\r\n/**\r\n * \r\n * @param isReadonly 是否只读\r\n * @param shallow  是否是浅代理\r\n * @returns  get函数 有三个参数分别是target：目标对象，key：目标对象的属性 receiver：目标对象的实例\r\n */\r\nfunction createGetter(isReadonly = false, shallow = false) {\r\n    return function get(target: object, key: string | symbol, receiver: object) {\r\n        const res = Reflect.get(target, key, receiver) // target[k]\r\n        if (!isReadonly) {\r\n            // 收集依赖\r\n            Track(target, TrackOpTypes.GET, key)\r\n        }\r\n        if (shallow) {\r\n            return res\r\n        }\r\n        if (isObject(res)) { // key是一个对象的时候\r\n            return isReadonly ? readonly(res) : reactive(res) // 递归\r\n        }\r\n        return res\r\n    }\r\n}\r\nconst get = createGetter()\r\nconst shallowGet = createGetter(false, true)\r\nconst readonlyGet = createGetter(true, false)\r\nconst shallowReadonlyGet = createGetter(true, true)\r\n\r\nfunction createSetter(shallow = false) {\r\n    return function (target: any, key: string | symbol, value: unknown, receiver: object) {\r\n        const oldvalue = target[key]\r\n        const result = Reflect.set(target, key, value, receiver)\r\n        let haskey = isArray(target) && isIntegerKey(key) ? Number(key) < target.length : hasOwn(target, key)\r\n        if (!haskey) { // 数组新增\r\n            trigger(target, TriggerOpTypes.ADD, key, value)\r\n        } else if (hasChanged(value, oldvalue)) { // 数组修改,当新值与原来的值一样的时候\r\n            trigger(target, TriggerOpTypes.SET, key, value, oldvalue)\r\n        }\r\n        return result\r\n    }\r\n}\r\nconst set = createSetter()\r\nconst shallowSet = createSetter(true)\r\nexport const reactiveHandlers = {\r\n    get,\r\n    set\r\n}\r\n\r\nexport const readonlyHandlers = {\r\n    get: readonlyGet,\r\n    set: () => {\r\n        console.log('只读！！！无法修改值');\r\n    }\r\n}\r\n\r\nexport const shallowReactiveHandlers = {\r\n    get: shallowGet,\r\n    set: shallowSet\r\n}\r\n\r\nexport const shallowReadonlyHandlers = {\r\n    get: shallowReadonlyGet,\r\n    set: () => {\r\n        console.log('只读！！！无法修改值改值');\r\n    }\r\n}","//四个方法的注重点 ： 1.是不是可读 2.是不是深代理\r\n// 核心proxy 源码中采用高阶函数的柯里化\r\nimport { isObject } from \"@vue/shared\" \r\nimport {\r\n    reactiveHandlers,\r\n    readonlyHandlers,\r\n    shallowReactiveHandlers,\r\n    shallowReadonlyHandlers\r\n  } from './baseHandlers'\r\nexport function reactive(target:Object) {\r\n   return createReactObj(target,false,reactiveHandlers)\r\n}\r\n\r\nexport function shallowReactive(target:Object) {\r\n    return createReactObj(target,false,shallowReactiveHandlers)\r\n}\r\n\r\nexport function readonly(target:Object) {\r\n    return createReactObj(target,true,readonlyHandlers)\r\n}\r\n\r\nexport function shallowReadonly(target:Object) {\r\n    return createReactObj(target,true,shallowReadonlyHandlers)\r\n}\r\n\r\n//核心代理的实现\r\n//数据结构，用来收集被代理的数据，避免重复代理\r\nconst reactiveMap = new WeakMap() // 类似于map，但是这个key必须是对象，并且会自动的垃圾回收\r\nconst readonlyMap = new WeakMap()\r\nfunction createReactObj(target:any,isReadonly:boolean,baseHandlers:object) {\r\n    if(!isObject(target)) {\r\n        return target\r\n    }\r\nconst proxymap = isReadonly?readonlyMap:reactiveMap\r\nconst proxyEs = proxymap.get(target) //proxymap中是否存在被代理的target\r\nif(proxyEs) {\r\n    return proxyEs\r\n}\r\n\r\nconst proxy = new Proxy(target,baseHandlers)\r\nproxymap.set(target,proxy)\r\n  return proxy\r\n}","import { hasChanged, isArray } from \"@vue/shared\"\r\nimport { Track, trigger } from \"./effect\"\r\nimport { TrackOpTypes, TriggerOpTypes } from \"./operations\"\r\n\r\nexport function ref(rawValue:any) {\r\n    return createRef(rawValue)\r\n}\r\n\r\nexport function shallowRef(rawValue:any) {\r\n    return createRef(rawValue,true)\r\n}\r\n\r\n// 创建RefImpl类\r\nclass RefImpl{\r\n    // 属性\r\n    public _v_isRef = true\r\n    public _value:any\r\n    constructor(public rawValue:any,public shallow:boolean) {\r\n      this._value = rawValue\r\n    }\r\n    // 类的属性访问器\r\n    get value() {\r\n        Track(this,TrackOpTypes.GET,'value')\r\n        return this._value\r\n    }\r\n    set value(newValue) {\r\n        if(hasChanged(newValue,this._value)) {\r\n            this._value =newValue\r\n            this.rawValue = newValue\r\n            trigger(this,TriggerOpTypes.SET,'value',newValue)\r\n        }\r\n        \r\n    }\r\n}\r\n\r\nfunction createRef(rawValue:any,shallow=false) {\r\n    return new RefImpl(rawValue,shallow)\r\n}\r\n\r\n\r\n// toRef 将我们的目标对象的某个属性变成 ref，如果这个属性目标对象不是响应式，那么toRef也不具备响应式\r\nexport function toRef(target:any,key:any) {\r\n    return new ObjectRefImpl(target,key)\r\n}\r\n\r\nclass ObjectRefImpl {\r\n    public _v_isRef = true\r\n    public _object:any\r\n    constructor(public target:any, public key:any) {\r\n        this._object = target[key]\r\n    }\r\n    get value() {\r\n        return this._object\r\n    }\r\n    set value(newValue) {\r\n        this._object = newValue\r\n        this.target[this.key] = newValue\r\n    }\r\n}\r\n\r\n\r\n// toRefs 将将我们的目标对象的所有属性变成 ref\r\nexport function toRefs(target:any) {\r\n    let res:any = isArray(target)?new Array(target.length):{}\r\n    for(let key in target) {\r\n        res[key] = toRef(target,key)\r\n    }\r\n    return res\r\n}","import { isFunction } from \"@vue/shared\";\r\nimport { effect } from \"./effect\";\r\n\r\n// computed计算属性有两个参数，一个是\r\nexport function computed(getterOrOptions:any) {\r\n    let getter;\r\n    let setter;\r\n    if (isFunction(getterOrOptions)) {\r\n        getter = getterOrOptions\r\n        setter = () => {\r\n            console.warn('computed value must be readonly')\r\n        }\r\n    } else {\r\n        getter = getterOrOptions.get\r\n        setter = getterOrOptions.set\r\n    }\r\n    return new ComputedRefImpl(getter,setter)\r\n}\r\n\r\nclass ComputedRefImpl {\r\n    public _v_isReadonly = true\r\n    public _v_isRef = true\r\n    public _dirty = true\r\n    public _value: any\r\n    public effect:any\r\n    constructor(getter:Function,public setter:Function) {\r\n        this.effect = effect(getter,{\r\n            lazy:true,\r\n            sch: () => {\r\n                if(!this._dirty) {\r\n                    this._dirty = true\r\n                }\r\n            }\r\n        })\r\n        \r\n    }\r\n    get value() {\r\n        // 获取执行\r\n        if(this._dirty) {\r\n          this._value = this.effect()\r\n          this._dirty = false\r\n        }\r\n        return this._value\r\n    }\r\n    set value(newValue) {\r\n        this.setter(newValue)\r\n    }\r\n}","import { currentInstance, setCurrentInstance } from \"./component\"\r\n\r\n // 生命周期\r\n const enum lifeCycle{\r\n    BEFORE_MOUNT = 'bm',\r\n    MOUBTED = 'm',\r\n    BEFOREM_UNPDATE = 'bu',\r\n    UPDATE ='u',\r\n }\r\n\r\n const injectHook = (lifeCycle:any,hook:Function,target:any) => {\r\n        if(!target) return\r\n        const hooks = target[lifeCycle] || (target[lifeCycle] = [])\r\n        // 切片化 函数劫持\r\n        const rap = () => {\r\n            setCurrentInstance(target)\r\n            hook() // 执行说明周期前，存放一些当前实例\r\n            setCurrentInstance(null)\r\n        }\r\n        hooks.push(rap)\r\n }\r\nfunction createHook(lifeCycle:any) {\r\n    return function(hook:Function,target:any = currentInstance) {\r\n         injectHook(lifeCycle,hook,target)\r\n    }\r\n}\r\n\r\n export  const onBeforeMount = createHook(lifeCycle.BEFORE_MOUNT)\r\n export  const onMounted = createHook(lifeCycle.MOUBTED)\r\n export  const onBeforeUpdate =createHook(lifeCycle.BEFOREM_UNPDATE)\r\n export  const onUpdated = createHook(lifeCycle.UPDATE)\r\n\r\n export function invokeArrayFns(arr:Array<Function>) {\r\n    arr.forEach(fn => fn())\r\n }","// 为了适配多种平台，不同的平台，dom，属性方法也会不同，这里就只是vue\r\nimport { ShapeFlags } from \"@vue/shared\"\r\nimport { ApiCreateApp } from \"./apiCreateApp\"\r\nimport { crteatComponentInstance, setupComponent } from \"./component\"\r\nimport { effect } from \"@vue/reactivity\"\r\nimport { CVnode, TEXT } from \"./vnode\"\r\nimport { invokeArrayFns } from \"./apiLifecycle\"\r\nexport function createRender(renderOptionsDom: any) {// 实现渲染\r\n    // 获取全部的dom操作\r\n    const {\r\n        insert: hostInsert,\r\n        remove: hostRemove,\r\n        patchProp: hostPatchProp,\r\n        forcePatchProp: hostForcePatchProp,\r\n        createElement: hostCreateElement,\r\n        createText: hostCreateText,\r\n        createComment: hostCreateComment,\r\n        setText: hostSetText,\r\n        setElementText: hostSetElementText,\r\n    } = renderOptionsDom\r\n    function setupRenderEffect(instance: any, container: any) {\r\n        // 创建effect 在effect中调用render方法，render就能收集依赖\r\n        effect(function componentEffect() {\r\n            if (!instance.isMounted) { // 第一次加载\r\n                // 渲染之前\r\n                let {bm,m} = instance\r\n                if(bm) {\r\n                    invokeArrayFns(bm)\r\n                }\r\n                // 获取到render的返回值\r\n                let proxy = instance.proxy\r\n                \r\n                let subTree = instance.subTree= instance.render.call(proxy, proxy) // 执行render,在组件中创建dom节点\r\n                \r\n                //将h函数返回的vnode渲染到页面\r\n                patch(null, subTree, container)\r\n                // 渲染完成\r\n                if(m) {\r\n                    invokeArrayFns(m)\r\n                }\r\n                instance.isMounted =true\r\n            } else {\r\n                // 更新操作\r\n                let {u,bu} = instance \r\n                // 更新前\r\n                if(bu) {\r\n                    invokeArrayFns(bu)\r\n                }\r\n                let proxy = instance.proxy\r\n                const prevTree = instance.subTree\r\n                const nextTree = instance.render.call(proxy, proxy)\r\n                instance.subTree = nextTree\r\n                patch(prevTree,nextTree,container)\r\n                // 更新后\r\n                if(u) {\r\n                    invokeArrayFns(u)\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    //----------------- 处理文本-----------------\r\n\r\n    const processtext = (n1: any, n2: any, container: any) => {\r\n            if(n1===null) {\r\n                // 创建文本 =》真实dom =》 加载到页面\r\n                n2.el = hostCreateText(n2.children)\r\n                \r\n                hostInsert(n2.el,container)\r\n               \r\n            } else {\r\n\r\n            }\r\n    }\r\n\r\n    //-------------- 处理组件 ------------------\r\n    // 组件渲染的流程\r\n    const mountComponent = (InitialVnode: any, container: any) => {\r\n        // 1. 先有一个组件的实例对象\r\n        const instance = InitialVnode.component = crteatComponentInstance(InitialVnode)\r\n        // 2.解析数据到这个实例对象中\r\n        setupComponent(instance)\r\n        // 3.创建一个effect ，让render函数执行\r\n        setupRenderEffect(instance, container)\r\n    }\r\n    // 组件的创建\r\n    const processComponent = (n1: any, n2: any, container: any) => {\r\n        if (n1 === null) { // 第一次加载\r\n            mountComponent(n2, container)\r\n        } else { // 更新操作\r\n\r\n        }\r\n    }\r\n\r\n \r\n    // -------------- 处理元素 ---------------\r\n    const mountChildren = (el: any, children: any) => {\r\n        children.forEach((item: any) => {\r\n            let child = CVnode(item)\r\n            patch(null, child, el)\r\n        })\r\n    }\r\n\r\n    const mountElement = (n2: any, container: any,ancher:any) => {\r\n        // 递归渲染  =》 真实dom =》 放到对应的页面\r\n        const { props, shapeFlag, type, children } = n2\r\n        // 创建元素\r\n        let el = n2.el = hostCreateElement(type)\r\n\r\n        //添加属性\r\n        if (props) {\r\n            for (let k in props) {\r\n                hostPatchProp(el, k, null, props[k])\r\n            }\r\n        }\r\n        // 处理children\r\n        if (children) {\r\n            if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\r\n                // 创建文本元素\r\n                hostSetElementText(el, children)\r\n                \r\n            } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n                // 递归\r\n                mountChildren(el, children)\r\n            }\r\n        }\r\n        // 加载到对应的位置\r\n        hostInsert(el, container,ancher)\r\n    }\r\n\r\n    //--------------------diff比对----------------------------------\r\n    // 属性比对\r\n    const patchProps = (oldProps:any,newProps:any,el:any) => {\r\n       if(oldProps !=newProps) { // 属性不相同的时候\r\n        for(let k in newProps ) {\r\n            const prev = oldProps[k]\r\n            const next = newProps[k]\r\n            if(prev != next) {\r\n                hostPatchProp(el,k,prev,next)\r\n            }\r\n        }   \r\n       }\r\n       for(let k in oldProps) {\r\n        if(!(k in newProps)) {\r\n            hostPatchProp(el,k,oldProps[k],null)\r\n        }\r\n       }\r\n    }\r\n\r\n    // 最长递增子序列\r\n    function getSequence(arr:Array<number>) {\r\n        let len = arr.length\r\n        let start ,end,mid\r\n        let result = [0]\r\n        let p = arr.slice(0)\r\n        for(let i =0;i<len;i++) {\r\n            const arrI  = arr[i]\r\n            if(arrI!==0) {\r\n                let resultLastIndex =result[result.length-1] \r\n                if(arrI> arr[resultLastIndex]) {\r\n                    p[i] = resultLastIndex\r\n                    result.push(i)\r\n                    continue\r\n                }\r\n                // 二分查找\r\n                start =0\r\n                end = result.length-1\r\n                while (start < end) {\r\n                    mid = (start + end)/2 |0\r\n                   if(arr[result[mid]]<arrI) {\r\n                    start = mid + 1\r\n                   } else {\r\n                    end =mid\r\n                   }\r\n                } \r\n                if(arrI<arr[result[start]]) {\r\n                    if(start > 0) {\r\n                        p[i] = result[start-1]  \r\n                    }\r\n                    result[start] = i\r\n                }\r\n    \r\n            }\r\n        }\r\n    \r\n        // 驱节点 向前查找\r\n        start =result.length\r\n        end = result[start-1]\r\n        while (start-- > 0) {\r\n            result[start] = end\r\n            end = p[end]\r\n          }\r\n        return result\r\n    }\r\n    // 儿子都是数组的情况\r\n    const patchKeyChild = (c1:any,c2:any,el:any) => {\r\n        // vue3比对规则：从头部开始比对，遇到不相同的就停止比对，然后从尾部开始比对，那个数组没有了就停止比对\r\n        let i = 0 // 记录指针位置\r\n        let l1 = c1.length-1\r\n        let l2 = c2.length -1\r\n        //async form start: 头部比对\r\n        while(i<= l1 && i<= l2) {\r\n            const n1 = c1[i]\r\n            const n2 = c2[i]\r\n            if(isSomeVnode(n1,n2)) {\r\n                patch(n1,n2,el)\r\n            } else {\r\n                break\r\n            }\r\n            i++\r\n        }\r\n\r\n        // async form end ： 尾部开始比对\r\n        while(i<= l1 && i<= l2) {\r\n            const n1 = c1[l1]\r\n            const n2 = c2[l2]\r\n            if(isSomeVnode(n1,n2)) {\r\n                patch(n1,n2,el)\r\n            } else {\r\n                break\r\n            }\r\n            l1--\r\n            l2--\r\n        }\r\n\r\n        if(i>l1) { // 新比旧的多\r\n            // 添加数据\r\n            const next= l2 + 1 // 插入的位置\r\n          const ancher =  next < c2.length?c2[next].el:null\r\n          while(i<=l2) {\r\n            patch(null,c2[i++],el,ancher)\r\n          }\r\n        } else if(i > l2){ // 旧比新的多\r\n            while(i<=l1) {\r\n                unmount(c1[i++])  // 删除多出来的的数据\r\n            }\r\n        } else { // 乱序\r\n            // vue3 解决思路  用新的乱序的数据创建一个乱序的映射表，用旧的乱序的数据，去新的里面找，找到就复用，没有就删除\r\n            let s1 = i\r\n            let s2 = i\r\n\r\n            // 解决乱序对比之后的问题：没有更新到对应的位置，创建的元素，没有插入\r\n            const toBePatched =l2 - s2 +1\r\n            const newIndexToPatchMap = new Array(toBePatched).fill(0)\r\n\r\n            // 创建表\r\n            let keyIndexMap = new Map()\r\n            for(let i = s2;i<=l2;i++) {\r\n                keyIndexMap.set(c2[i].key,i)\r\n            }\r\n            for(let i = s1;i<=l1;i++) {\r\n             let newIndex = keyIndexMap.get(c1[i].key)\r\n                if(newIndex) {\r\n                    newIndexToPatchMap[newIndex-s2] = i+1\r\n                    patch(c1[i],c2[newIndex],el)\r\n                   \r\n                }else {\r\n                    unmount(c1[i])\r\n                }\r\n            }\r\n            // \r\n            const increasingNewIndexSequence = getSequence(newIndexToPatchMap)\r\n            let  j =increasingNewIndexSequence.length-1\r\n            for(let i = toBePatched-1;i>=0 ;i--) {\r\n                let currentIndex = i + s2 \r\n                let child = c2[currentIndex]\r\n                let ancher = currentIndex +1> c2.length?c2[currentIndex+1].el:null\r\n                if(newIndexToPatchMap[i] ===0) {\r\n                    patch(null,child ,el,ancher)\r\n                } else {\r\n                    if(i !==increasingNewIndexSequence[j]) { // 不同就移动插入到相应位置\r\n                        hostInsert(child.el,el,ancher)\r\n                    } else { // 相同就不需要移动\r\n                        j--\r\n                    }\r\n                    \r\n                }\r\n            }\r\n        }\r\n    }\r\n    // chiid比对 \r\n    const patchChild = (n1:any,n2:any,el:any) => {\r\n        const c1 = n1.children\r\n        const c2 = n2.children\r\n        const prevShapeFlage = n1.shapeFlag\r\n        const nextShapeFlage = n2.shapeFlag\r\n        if(nextShapeFlage&ShapeFlags.TEXT_CHILDREN) { // 文本的情况\r\n            if(prevShapeFlage&ShapeFlags.ARRAY_CHILDREN) {\r\n                // unmount(c1)\r\n                // hostSetElementText(el,c2)\r\n            } else {\r\n                hostSetElementText(el,c2)\r\n            }  \r\n        } else { // 不是文本，是 数组\r\n            if(prevShapeFlage&ShapeFlags.ARRAY_CHILDREN) {\r\n                patchKeyChild(c1,c2,el)\r\n            } else { // 旧的是文本\r\n                hostSetElementText(el,'')\r\n                mountChildren(el,c2)\r\n            }\r\n        }\r\n    }\r\n\r\n    const pacthElement = (n1:any,n2:any,container:any,ancher:any) => {\r\n           //  属性 =》 children\r\n           const oldProps = n1.props\r\n           const newProps = n2.props\r\n           let el = (n2.el =n1.el)\r\n           patchProps(oldProps,newProps,el)\r\n\r\n           // 比对children\r\n           patchChild(n1,n2,el)\r\n    }\r\n    function processElement(n1: any, n2: any, container: any,ancher:any) {\r\n        if (n1 === null) {\r\n            mountElement(n2, container,ancher)\r\n        } else { // 更新\r\n            // 同一个元素比对\r\n            pacthElement(n1,n2,container,ancher)\r\n        }\r\n    }\r\n\r\n\r\n    // 渲染的操作\r\n\r\n    const isSomeVnode = (n1:any,n2:any) => {\r\n        return n1.type === n2.type  && n1.key === n2.key\r\n    }\r\n    const unmount = (vnode:any) => {\r\n        hostRemove(vnode.el)\r\n    }\r\n    const patch = (n1: any, n2: any, container: any,ancher:any =null) => {\r\n        // 针对不同的类型  \r\n        if(n1 && isSomeVnode(n1,n2)) {            \r\n            unmount(n1)\r\n            n1 =null\r\n        }\r\n        \r\n        let { shapeFlag, type } = n2\r\n        switch (type) {\r\n            case TEXT:\r\n                processtext(n1, n2, container)\r\n                break;\r\n            default:\r\n                if (shapeFlag & ShapeFlags.ELEMENT) { // 元素\r\n                    processElement(n1, n2, container,ancher)\r\n\r\n                } else if (shapeFlag & ShapeFlags.STATEFUL_COMPONENT) { //组件\r\n                    processComponent(n1, n2, container)\r\n                }\r\n        }\r\n\r\n    }\r\n    let render = (vnode: object, container: any) => {\r\n        // 组件的初始化\r\n        patch(null, vnode, container) // 第一次 渲染\r\n    }\r\n    return {\r\n        createApp: ApiCreateApp(render) // 创建虚拟dom\r\n    }\r\n}\r\n","import { isArray, isObject } from \"@vue/shared\"\r\nimport { createVnode, isVnode } from \"./vnode\"\r\n\r\n// 把节点变成vnode\r\nexport function h(type:any,propsOrchildren:any,children:any=null) {\r\n    const len = arguments.length\r\n    if(len === 2) { //就是有两个参数\r\n        // 元素+ 属性   元素 + children\r\n        if(isObject(propsOrchildren) && !isArray(propsOrchildren)) {\r\n             if(isVnode(propsOrchildren)) {\r\n                return createVnode(type,null,[propsOrchildren])\r\n             }\r\n             return createVnode(type,propsOrchildren)\r\n        } else {\r\n            return createVnode(type,null,propsOrchildren)\r\n        }\r\n    } else{\r\n        if(len>3) {\r\n            children = Array.prototype.slice.call(arguments,2)\r\n        } else if( len ===3 && isVnode(children)) {\r\n            children = [children]\r\n        }\r\n        return createVnode(type,propsOrchildren,children)\r\n    }\r\n}","// runtime-dom 操作dom  1.节点 2. 属性\r\nimport { extend } from \"@vue/shared\";\r\nimport { nodeOps } from \"./nodeOps\";\r\nimport { patchProp } from \"./patchProp\";\r\nimport { createRender} from \"@vue/runtime-core\";\r\n\r\n// vue3 dom 所有的操作\r\nconst renderOptionsDom = extend({patchProp},nodeOps)\r\n\r\nexport const createApp = (rootComponent:any,rootProps:Object) => {\r\n    let app = createRender(renderOptionsDom).createApp(rootComponent,rootProps)\r\n    let {mount} = app\r\n    app.mount = function(container:any) {\r\n        // 挂载组件\r\n        container = nodeOps.querySlecter(container)\r\n        \r\n        container.innerHTML = ''\r\n\r\n        //  将组件渲染的dom元素进行挂载\r\n        mount(container)\r\n    }\r\n    return   app\r\n}\r\n\r\nexport * from '@vue/runtime-core'\r\n\r\n"],"names":[],"mappings":"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"}