{"version":3,"file":"runtime-dom.esm-bundler.js","sources":["../../shared/src/index.ts","../src/nodeOps.ts","../src/modules/class.ts","../src/modules/style.ts","../src/modules/attr.ts","../src/modules/event.ts","../src/patchProp.ts","../../runtime-core/src/vnode.ts","../../runtime-core/src/apiCreateApp.ts","../../runtime-core/src/componentPubilcInstance.ts","../../runtime-core/src/component.ts","../../reactivity/src/effect.ts","../../reactivity/src/baseHandlers.ts","../../reactivity/src/reactivety.ts","../../reactivity/src/ref.ts","../../reactivity/src/computed.ts","../../runtime-core/src/apiLifecycle.ts","../../runtime-core/src/render.ts","../../runtime-core/src/h.ts","../src/index.ts"],"sourcesContent":["export const extend = Object.assign\r\n\r\nconst hasOwnProperty = Object.prototype.hasOwnProperty\r\nexport const hasOwn = (\r\n    val: object,\r\n    key: string | symbol\r\n): key is keyof typeof val => hasOwnProperty.call(val, key)\r\n\r\nexport const isArray = Array.isArray\r\n\r\nexport const isFunction = (val: unknown): val is Function =>\r\n    typeof val === 'function'\r\n\r\nexport const isString = (val: unknown): val is string => typeof val === 'string'\r\nexport const isSymbol = (val: unknown): val is symbol => typeof val === 'symbol'\r\nexport const isObject = (val: unknown): val is Record<any, any> => val !== null && typeof val === 'object'\r\n\r\n// 判断数组的key 是不是一个整数\r\nexport const isIntegerKey = (key:any) => parseInt(key) +'' === key\r\n\r\n\r\n//判断两个值是否相等\r\nexport const hasChanged  = (value:any,oldval:any):boolean => value !==oldval\r\nexport * from './shapeFlag'","// 操作节点 增删改查\r\nexport const nodeOps ={\r\n    // 操作元素\r\n    // 创建元素\r\n    createElement:(tagName:any) => document.createElement(tagName),\r\n    // 删除元素\r\n    remove:(child:any) => {\r\n        let parent = child.parentNode\r\n        if(parent) {\r\n            parent.removeChild(child)\r\n        }\r\n    },\r\n    // 插入元素\r\n    insert:(child:any,parent:any,ancher=null) => {\r\n        parent.insertBefore(child,ancher) //如果ancher为null的时候，就类似于appendChild追加子元素\r\n\r\n    },\r\n    //获取元素\r\n    querySlecter:(select:any) => document.querySelector(select),\r\n    // 获取元素文本\r\n    setElementText:(el:any,text:any) => el.textContent = text,\r\n\r\n\r\n    // 操作文本\r\n    //创建文本\r\n    createText:(text:any )=> document.createTextNode(text),\r\n    //设置文本\r\n    setText:(node:any,text:any) => node.nodevalue(text),\r\n\r\n}","// 处理 class样式\r\n\r\nexport const patchClass = (el:Element,value:any) => {\r\n    if(value === '')  {\r\n        value = ''\r\n    }\r\n    el.className = value\r\n}","// style 的处理\r\n\r\nexport const patchStyle = (el: any, prev: any, next: any) => {\r\n    const style = el.style\r\n    if (next === null) {\r\n        el.removeAttribute('style')\r\n    } else {\r\n        // 旧的有，新的没有\r\n        if (prev) {\r\n            for (let k in prev) {\r\n                if (next[k]) {\r\n                    style[k] = ''\r\n                }\r\n            }\r\n        }\r\n        // 新的有\r\n\r\n        for (let k in next) {\r\n            style[k] = next[k]\r\n        }\r\n\r\n    }\r\n}","// 自定义属性\r\nexport const pathAttr = (el:any,key:any,value:any) => {\r\n    if(value === null) {\r\n        el.removeAttribute(key)\r\n    } else {\r\n        el.removeAttribute(key,value)\r\n    }\r\n}","// 处理事件\r\nexport const pathEvent = (el:any,key:any,value:any) => {\r\n    // 1. 对函数进行缓存\r\n    const invokers = el._vei || (el._vet ={})\r\n    const exists = invokers[key]\r\n    if(exists&&value) { // 缓存的函数表中有\r\n        exists.value =value\r\n    } else {\r\n        const eventName = key.slice(2).toLowerCase()\r\n        if(value) {\r\n            let invoker = invokers[eventName] = createInvoker(value)\r\n            el.addEventListener(eventName,invoker)\r\n        } else { // 没有 ，删除之前的\r\n            el.removeEventListener(eventName,exists)\r\n            invokers[eventName] = undefined\r\n        }\r\n    }\r\n}\r\nfunction createInvoker(value:any) {\r\n    const invoker = (e:Event) => {\r\n        invoker.value(e)\r\n    }\r\n    invoker.value = value\r\n    return invoker\r\n}","// 操作属性\r\nimport {patchClass} from './modules/class'\r\nimport { patchStyle } from './modules/style'; \r\nimport { pathAttr } from './modules/attr';\r\nimport { pathEvent } from './modules/event';\r\nexport const patchProp = (el:Element,key:any,prevValue:any,nextValue:any) => {\r\n    switch(key) {\r\n        case 'class':\r\n            patchClass(el,prevValue)\r\n        break;\r\n        case 'style':\r\n            patchStyle(el,prevValue,nextValue)\r\n        break;\r\n        default:\r\n            if(/^on[^a-z]/.test(key)) { // 是不是事件\r\n                pathEvent(el,key,nextValue)\r\n            } else {\r\n                pathAttr(el,key,nextValue)\r\n            }\r\n            break;\r\n    }\r\n}","// 创建vnode\r\n// createVnode = h函数\r\nimport { ShapeFlags, isArray, isObject, isString } from \"@vue/shared\"\r\nexport const createVnode = (type:any,props:any,children:any =null) => {\r\n    // 区分 是组件还是元素\r\n    let shapeFlag = isString(type)?ShapeFlags.ELEMENT:isObject(type)?ShapeFlags.STATEFUL_COMPONENT:0\r\n    const vnode = {\r\n        _v_isVnode:true, // 是一个虚拟节点\r\n        type,\r\n        props,\r\n        children,\r\n        key:props && props.key, // diff算法会使用到\r\n        el:null, // 和真实的元素和vnode对应\r\n        component:{},\r\n        shapeFlag\r\n    }\r\n    //children 标识\r\n    normalizeChildren(vnode,children)\r\n    return vnode\r\n}\r\n\r\nfunction normalizeChildren(vnode:any,children:unknown) {\r\n    let type = 0\r\n    if(children == null) {\r\n        children = null\r\n    }else if(isArray(children)) { // 数组\r\n        type = ShapeFlags.ARRAY_CHILDREN\r\n    } else { // 文本\r\n        type =ShapeFlags.TEXT_CHILDREN\r\n    }\r\n    vnode.shapeFlag = vnode.shapeFlag | type // 合并标识\r\n}\r\n\r\n\r\nexport function isVnode(vnode:any) {\r\n    return vnode._v_isVnode\r\n}\r\n\r\nexport const TEXT = Symbol('test')\r\n\r\nexport function CVnode(child:any) {\r\n    if(isObject(child)) return child\r\n    return createVnode(TEXT,null,String(child))\r\n}","import { createVnode } from \"./vnode\"\r\n// 将组件转换为虚拟dom\r\nexport function ApiCreateApp(render:Function) {\r\n    return function createApp(rootComponent: any, rootProps: any) { // 那个组件，那个属性\r\n        let app = {\r\n            // 添加相关的属性\r\n            _component:rootComponent,\r\n            _props:rootProps,\r\n            _container:null,\r\n            mount(container: any) { // 挂载的位置\r\n                // 1. 创建vnode ，根据组件创建虚拟节点\r\n                let vnode = createVnode(rootComponent,rootProps)\r\n                // console.log(vnode);\r\n                \r\n                //渲染\r\n                render(vnode,container)\r\n                app._container = container\r\n            }\r\n        }\r\n        return app\r\n    }\r\n} ","import { hasOwn } from \"@vue/shared\"\r\n\r\nexport const componentPubilcInstance = {\r\n    get({_:instance}:any,key:any) {\r\n        const {props,setupState} = instance\r\n        \r\n        if(key[0] === '$') { // 属性$开头的不能获取\r\n            return \r\n        }\r\n        if(hasOwn(props,key)) {\r\n            return props[key]\r\n        } else if(hasOwn(setupState,key)) {\r\n            return setupState[key]\r\n        }\r\n    },\r\n    set({_:instance}:any,key:any,value:any) {\r\n        const {props,setupState} = instance\r\n        if(hasOwn(props,key)) {\r\n            props[key] = value\r\n        } else if(hasOwn(setupState,key)) {\r\n             setupState[key] = value\r\n        }\r\n    }\r\n}","import { ShapeFlags, isFunction, isObject } from \"@vue/shared\"\r\nimport { componentPubilcInstance } from \"./componentPubilcInstance\"\r\n\r\nexport const getCurrentInstance = () => {\r\n    return  currentInstance\r\n}\r\n\r\nexport const setCurrentInstance = (target:any) => {\r\n    currentInstance = target\r\n}\r\n// 创建一个组件实例\r\nexport const crteatComponentInstance = (InitialVnode:any) => {\r\n    const instance = {\r\n        InitialVnode,\r\n        type:InitialVnode.type,\r\n        props:{}, //组件的属性\r\n        attrs:{}, // attrs 可以拿到所有属性，处理class和style\r\n        setupState:{},\r\n        ctx:{}, // 处理代理\r\n        proxy:{},\r\n        render:false,\r\n        isMounted:false,  // 是否挂载 \r\n    }\r\n    instance.ctx = {_:instance}\r\n    \r\n    return instance\r\n}\r\n\r\n// 解析数据到组件实例\r\nexport const setupComponent = (instance:any) => {\r\n\r\n   const {props,children} = instance.InitialVnode\r\n   instance.props = props\r\n   instance.children = children // slots 插槽\r\n    // 判断这个组件有没有setup\r\n   let shapeFlag = instance.InitialVnode.shapeFlag & ShapeFlags.STATEFUL_COMPONENT\r\n   if(shapeFlag) { // 有状态的组件\r\n        setupStateComponent(instance)\r\n   }\r\n    \r\n}\r\n\r\n// 处理 setup\r\nexport let currentInstance:any\r\nfunction setupStateComponent(instance:any) {\r\n    instance.proxy = new Proxy(instance.ctx,componentPubilcInstance as any) // 方便取值\r\n    \r\n    // setup 的返回值 是render函数的参数\r\n    let Component = instance.type\r\n    let {setup} = Component\r\n    if(setup) { // 判断setup是否存在\r\n        let setupContext = createContext(instance)\r\n        // 在 setup之前创建全局的实例\r\n        currentInstance =instance\r\n       let setupResult = setup(instance.props,setupContext)\r\n       currentInstance = null\r\n        handlerSetupResult(instance,setupResult) // 判断返回值是对象还是函数，对象就把结果放到instance.setupState上，如果是 函数，那么就是render函数\r\n    } else {\r\n        // 调用render\r\n        finishComponentSetup(instance)\r\n    }\r\n   \r\n    // Component.render(instance.proxy)\r\n}\r\n\r\n// 处理setup 的返回结果\r\nfunction handlerSetupResult(instance:any,setupResult:unknown) {\r\n    if(isObject(setupResult)) {\r\n        instance.setupState = setupResult\r\n    }\r\n    if(isFunction(setupResult)) {\r\n        instance.render = setupResult\r\n    }\r\n\r\n    // 执行render方法\r\n    finishComponentSetup(instance)\r\n}\r\n\r\n// 处理render\r\nfunction finishComponentSetup(instance:any) {\r\n    let Component = instance.type\r\n    console.log(Component,instance);\r\n    \r\n    if(!instance.render) { \r\n        if(!Component.render&&Component.template) { // 将template编译成render函数\r\n            \r\n        }\r\n        instance.render = Component.render\r\n        \r\n    }\r\n    instance.render(instance.proxy)\r\n}\r\n\r\nfunction createContext(instance:any) {\r\n    return {\r\n        attrs:instance.attrs,\r\n        slots:instance.children,\r\n        emit:()=> {},\r\n        expose:()=>{}\r\n    }\r\n}\r\n\r\n","// effect 收集依赖\r\n\r\nimport { isArray, isIntegerKey } from \"@vue/shared\"\r\nimport { TriggerOpTypes } from \"./operations\"\r\n\r\nexport function effect(fn: Function, options: any = {}) {\r\n    const effect = createReactEffect(fn, options)\r\n    if (!options.lazy) {\r\n        effect()\r\n    }\r\n\r\n    return effect\r\n}\r\nlet uid = 0\r\nlet activeEffect: any  //保存当前的effect\r\n\r\nconst effectStack: any = []  //定义一个栈结构 来解决effect的树结构\r\nfunction createReactEffect(fn: Function, options: any) {\r\n    const effect = function reactiveEffect() {\r\n        // 防止多个effect嵌套\r\n        if (!effectStack.includes(effect)) { // 确保effect 没有入栈\r\n            try {\r\n                // 入栈\r\n                effectStack.push(effect)\r\n                activeEffect = effect\r\n                 return fn()\r\n            } finally {\r\n                // 出栈\r\n                effectStack.pop()\r\n                activeEffect = effectStack[effectStack.length - 1]\r\n            }\r\n        }\r\n\r\n    }\r\n    effect.id = uid++  // 区别effect作用者\r\n    effect._isEffect = true // 区分effect 是不是响应式的\r\n    effect.raw = fn  //保存用户的方法\r\n    effect.options = options  //保存用户的配置项\r\n    return effect\r\n}\r\n\r\n// 收集effect 触发get的时候 收集effect\r\nlet targetMap = new WeakMap() // 创建结构表\r\nexport function Track(target: object, type: any, key: string | symbol) {\r\n    // 对应的key \r\n    // key 和 effect 一一对应  map => key =>target对象 value => [effect] set\r\n    if(activeEffect === undefined) { //没有effect中使用\r\n        return\r\n    }\r\n     // 获取effect\r\n     let depMap = targetMap.get(target)\r\n    if(!depMap) {\r\n        targetMap.set(target,(depMap = new Map))\r\n    }\r\n    let dep = depMap.get(key)\r\n    if(!dep) { //没有属性\r\n        depMap.set(key,(dep = new Set))\r\n    }\r\n    if(!dep.has(activeEffect)) {\r\n        dep.add(activeEffect)\r\n    }\r\n    // console.log(targetMap);\r\n}\r\n\r\nexport function trigger(target:object,type:any,key?:any,newValue?:any,oldValue?:any) {\r\n    // console.log(target,key,type,newValue,oldValue);\r\n    const depsMap = targetMap.get(target) //Map\r\n    // 收集依赖结构表中没有这个对象\r\n    if(!depsMap) return\r\n    //有\r\n    let effectSet = new Set() // 避免重复，减少执行次数\r\n    const add = (effectAdd:any) => {\r\n        if(effectAdd) {\r\n            effectAdd.forEach((effect:any)=> effectSet.add(effect))\r\n        }\r\n    }\r\n\r\n    // 处理数组 当key为lenght的时候   就是修改数组的length\r\n    if(key === 'length' && isArray(target)) {\r\n        depsMap.forEach((dep:any,key:any) => {\r\n            if(key === 'length' || key >= (newValue as number)) {\r\n                add(dep)\r\n            }\r\n        })\r\n    } else {\r\n        // 可能是对象\r\n        if(key != undefined) {\r\n            add(depsMap.get(key))\r\n        }\r\n        // 数组 通过索引来修改\r\n        switch(type) {\r\n            case TriggerOpTypes.ADD:\r\n                if(isArray(target)&&isIntegerKey(key)) {\r\n                    add(depsMap.get('length'))\r\n                }\r\n        }\r\n    }\r\n    effectSet.forEach((effect:any) => {\r\n        if(effect.options.sch) {\r\n            effect.options.sch() // 此时_dirty = true\r\n        } else {\r\n            effect()\r\n        }\r\n    } )\r\n    \r\n}","import { isObject, isArray, isIntegerKey, hasOwn, hasChanged } from \"@vue/shared\"\r\nimport { reactive, readonly } from \"./reactivety\"\r\nimport { TrackOpTypes, TriggerOpTypes } from './operations'\r\nimport { Track, trigger } from './effect'\r\n/**\r\n * \r\n * @param isReadonly 是否只读\r\n * @param shallow  是否是浅代理\r\n * @returns  get函数 有三个参数分别是target：目标对象，key：目标对象的属性 receiver：目标对象的实例\r\n */\r\nfunction createGetter(isReadonly = false, shallow = false) {\r\n    return function get(target: object, key: string | symbol, receiver: object) {\r\n        const res = Reflect.get(target, key, receiver) // target[k]\r\n        if (!isReadonly) {\r\n            // 收集依赖\r\n            Track(target, TrackOpTypes.GET, key)\r\n        }\r\n        if (shallow) {\r\n            return res\r\n        }\r\n        if (isObject(res)) { // key是一个对象的时候\r\n            return isReadonly ? readonly(res) : reactive(res) // 递归\r\n        }\r\n        return res\r\n    }\r\n}\r\nconst get = createGetter()\r\nconst shallowGet = createGetter(false, true)\r\nconst readonlyGet = createGetter(true, false)\r\nconst shallowReadonlyGet = createGetter(true, true)\r\n\r\nfunction createSetter(shallow = false) {\r\n    return function (target: any, key: string | symbol, value: unknown, receiver: object) {\r\n        const oldvalue = target[key]\r\n        const result = Reflect.set(target, key, value, receiver)\r\n        let haskey = isArray(target) && isIntegerKey(key) ? Number(key) < target.length : hasOwn(target, key)\r\n        if (!haskey) { // 数组新增\r\n            trigger(target, TriggerOpTypes.ADD, key, value)\r\n        } else if (hasChanged(value, oldvalue)) { // 数组修改,当新值与原来的值一样的时候\r\n            trigger(target, TriggerOpTypes.SET, key, value, oldvalue)\r\n        }\r\n        return result\r\n    }\r\n}\r\nconst set = createSetter()\r\nconst shallowSet = createSetter(true)\r\nexport const reactiveHandlers = {\r\n    get,\r\n    set\r\n}\r\n\r\nexport const readonlyHandlers = {\r\n    get: readonlyGet,\r\n    set: () => {\r\n        console.log('只读！！！无法修改值');\r\n    }\r\n}\r\n\r\nexport const shallowReactiveHandlers = {\r\n    get: shallowGet,\r\n    set: shallowSet\r\n}\r\n\r\nexport const shallowReadonlyHandlers = {\r\n    get: shallowReadonlyGet,\r\n    set: () => {\r\n        console.log('只读！！！无法修改值改值');\r\n    }\r\n}","//四个方法的注重点 ： 1.是不是可读 2.是不是深代理\r\n// 核心proxy 源码中采用高阶函数的柯里化\r\nimport { isObject } from \"@vue/shared\" \r\nimport {\r\n    reactiveHandlers,\r\n    readonlyHandlers,\r\n    shallowReactiveHandlers,\r\n    shallowReadonlyHandlers\r\n  } from './baseHandlers'\r\nexport function reactive(target:Object) {\r\n   return createReactObj(target,false,reactiveHandlers)\r\n}\r\n\r\nexport function shallowReactive(target:Object) {\r\n    return createReactObj(target,false,shallowReactiveHandlers)\r\n}\r\n\r\nexport function readonly(target:Object) {\r\n    return createReactObj(target,true,readonlyHandlers)\r\n}\r\n\r\nexport function shallowReadonly(target:Object) {\r\n    return createReactObj(target,true,shallowReadonlyHandlers)\r\n}\r\n\r\n//核心代理的实现\r\n//数据结构，用来收集被代理的数据，避免重复代理\r\nconst reactiveMap = new WeakMap() // 类似于map，但是这个key必须是对象，并且会自动的垃圾回收\r\nconst readonlyMap = new WeakMap()\r\nfunction createReactObj(target:any,isReadonly:boolean,baseHandlers:object) {\r\n    if(!isObject(target)) {\r\n        return target\r\n    }\r\nconst proxymap = isReadonly?readonlyMap:reactiveMap\r\nconst proxyEs = proxymap.get(target) //proxymap中是否存在被代理的target\r\nif(proxyEs) {\r\n    return proxyEs\r\n}\r\n\r\nconst proxy = new Proxy(target,baseHandlers)\r\nproxymap.set(target,proxy)\r\n  return proxy\r\n}","import { hasChanged, isArray } from \"@vue/shared\"\r\nimport { Track, trigger } from \"./effect\"\r\nimport { TrackOpTypes, TriggerOpTypes } from \"./operations\"\r\n\r\nexport function ref(rawValue:any) {\r\n    return createRef(rawValue)\r\n}\r\n\r\nexport function shallowRef(rawValue:any) {\r\n    return createRef(rawValue,true)\r\n}\r\n\r\n// 创建RefImpl类\r\nclass RefImpl{\r\n    // 属性\r\n    public _v_isRef = true\r\n    public _value:any\r\n    constructor(public rawValue:any,public shallow:boolean) {\r\n      this._value = rawValue\r\n    }\r\n    // 类的属性访问器\r\n    get value() {\r\n        Track(this,TrackOpTypes.GET,'value')\r\n        return this._value\r\n    }\r\n    set value(newValue) {\r\n        if(hasChanged(newValue,this._value)) {\r\n            this._value =newValue\r\n            this.rawValue = newValue\r\n            trigger(this,TriggerOpTypes.SET,'value',newValue)\r\n        }\r\n        \r\n    }\r\n}\r\n\r\nfunction createRef(rawValue:any,shallow=false) {\r\n    return new RefImpl(rawValue,shallow)\r\n}\r\n\r\n\r\n// toRef 将我们的目标对象的某个属性变成 ref，如果这个属性目标对象不是响应式，那么toRef也不具备响应式\r\nexport function toRef(target:any,key:any) {\r\n    return new ObjectRefImpl(target,key)\r\n}\r\n\r\nclass ObjectRefImpl {\r\n    public _v_isRef = true\r\n    public _object:any\r\n    constructor(public target:any, public key:any) {\r\n        this._object = target[key]\r\n    }\r\n    get value() {\r\n        return this._object\r\n    }\r\n    set value(newValue) {\r\n        this._object = newValue\r\n        this.target[this.key] = newValue\r\n    }\r\n}\r\n\r\n\r\n// toRefs 将将我们的目标对象的所有属性变成 ref\r\nexport function toRefs(target:any) {\r\n    let res:any = isArray(target)?new Array(target.length):{}\r\n    for(let key in target) {\r\n        res[key] = toRef(target,key)\r\n    }\r\n    return res\r\n}","import { isFunction } from \"@vue/shared\";\r\nimport { effect } from \"./effect\";\r\n\r\n// computed计算属性有两个参数，一个是\r\nexport function computed(getterOrOptions:any) {\r\n    let getter;\r\n    let setter;\r\n    if (isFunction(getterOrOptions)) {\r\n        getter = getterOrOptions\r\n        setter = () => {\r\n            console.warn('computed value must be readonly')\r\n        }\r\n    } else {\r\n        getter = getterOrOptions.get\r\n        setter = getterOrOptions.set\r\n    }\r\n    return new ComputedRefImpl(getter,setter)\r\n}\r\n\r\nclass ComputedRefImpl {\r\n    public _v_isReadonly = true\r\n    public _v_isRef = true\r\n    public _dirty = true\r\n    public _value: any\r\n    public effect:any\r\n    constructor(getter:Function,public setter:Function) {\r\n        this.effect = effect(getter,{\r\n            lazy:true,\r\n            sch: () => {\r\n                if(!this._dirty) {\r\n                    this._dirty = true\r\n                }\r\n            }\r\n        })\r\n        \r\n    }\r\n    get value() {\r\n        // 获取执行\r\n        if(this._dirty) {\r\n          this._value = this.effect()\r\n          this._dirty = false\r\n        }\r\n        return this._value\r\n    }\r\n    set value(newValue) {\r\n        this.setter(newValue)\r\n    }\r\n}","import { currentInstance, setCurrentInstance } from \"./component\"\r\n\r\n // 生命周期\r\n const enum lifeCycle{\r\n    BEFORE_MOUNT = 'bm',\r\n    MOUBTED = 'm',\r\n    BEFOREM_UNPDATE = 'bu',\r\n    UPDATE ='u',\r\n }\r\n\r\n const injectHook = (lifeCycle:any,hook:Function,target:any) => {\r\n        if(!target) return\r\n        const hooks = target[lifeCycle] || (target[lifeCycle] = [])\r\n        // 切片化 函数劫持\r\n        const rap = () => {\r\n            setCurrentInstance(target)\r\n            hook() // 执行说明周期前，存放一些当前实例\r\n            setCurrentInstance(null)\r\n        }\r\n        hooks.push(rap)\r\n }\r\nfunction createHook(lifeCycle:any) {\r\n    return function(hook:Function,target:any = currentInstance) {\r\n         injectHook(lifeCycle,hook,target)\r\n    }\r\n}\r\n\r\n export  const onBeforeMount = createHook(lifeCycle.BEFORE_MOUNT)\r\n export  const onMounted = createHook(lifeCycle.MOUBTED)\r\n export  const onBeforeUpdate =createHook(lifeCycle.BEFOREM_UNPDATE)\r\n export  const onUpdated = createHook(lifeCycle.UPDATE)\r\n\r\n export function invokeArrayFns(arr:Array<Function>) {\r\n    arr.forEach(fn => fn())\r\n }","// 为了适配多种平台，不同的平台，dom，属性方法也会不同，这里就只是vue\r\nimport { ShapeFlags } from \"@vue/shared\"\r\nimport { ApiCreateApp } from \"./apiCreateApp\"\r\nimport { crteatComponentInstance, setupComponent } from \"./component\"\r\nimport { effect } from \"@vue/reactivity\"\r\nimport { CVnode, TEXT } from \"./vnode\"\r\nimport { invokeArrayFns } from \"./apiLifecycle\"\r\nexport function createRender(renderOptionsDom: any) {// 实现渲染\r\n    // 获取全部的dom操作\r\n    const {\r\n        insert: hostInsert,\r\n        remove: hostRemove,\r\n        patchProp: hostPatchProp,\r\n        forcePatchProp: hostForcePatchProp,\r\n        createElement: hostCreateElement,\r\n        createText: hostCreateText,\r\n        createComment: hostCreateComment,\r\n        setText: hostSetText,\r\n        setElementText: hostSetElementText,\r\n    } = renderOptionsDom\r\n    function setupRenderEffect(instance: any, container: any) {\r\n        // 创建effect 在effect中调用render方法，render就能收集依赖\r\n        effect(function componentEffect() {\r\n            if (!instance.isMounted) { // 第一次加载\r\n                // 渲染之前\r\n                let {bm,m} = instance\r\n                if(bm) {\r\n                    invokeArrayFns(bm)\r\n                }\r\n                // 获取到render的返回值\r\n                let proxy = instance.proxy\r\n                \r\n                let subTree = instance.subTree= instance.render.call(proxy, proxy) // 执行render,在组件中创建dom节点\r\n                \r\n                //将h函数返回的vnode渲染到页面\r\n                patch(null, subTree, container)\r\n                // 渲染完成\r\n                if(m) {\r\n                    invokeArrayFns(m)\r\n                }\r\n                instance.isMounted =true\r\n            } else {\r\n                // 更新操作\r\n                let {u,bu} = instance \r\n                // 更新前\r\n                if(bu) {\r\n                    invokeArrayFns(bu)\r\n                }\r\n                let proxy = instance.proxy\r\n                const prevTree = instance.subTree\r\n                const nextTree = instance.render.call(proxy, proxy)\r\n                instance.subTree = nextTree\r\n                patch(prevTree,nextTree,container)\r\n                // 更新后\r\n                if(u) {\r\n                    invokeArrayFns(u)\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    //----------------- 处理文本-----------------\r\n\r\n    const processtext = (n1: any, n2: any, container: any) => {\r\n            if(n1===null) {\r\n                // 创建文本 =》真实dom =》 加载到页面\r\n                n2.el = hostCreateText(n2.children)\r\n                \r\n                hostInsert(n2.el,container)\r\n               \r\n            } else {\r\n\r\n            }\r\n    }\r\n\r\n    //-------------- 处理组件 ------------------\r\n    // 组件渲染的流程\r\n    const mountComponent = (InitialVnode: any, container: any) => {\r\n        // 1. 先有一个组件的实例对象\r\n        const instance = InitialVnode.component = crteatComponentInstance(InitialVnode)\r\n        // 2.解析数据到这个实例对象中\r\n        setupComponent(instance)\r\n        // 3.创建一个effect ，让render函数执行\r\n        setupRenderEffect(instance, container)\r\n    }\r\n    // 组件的创建\r\n    const processComponent = (n1: any, n2: any, container: any) => {\r\n        if (n1 === null) { // 第一次加载\r\n            mountComponent(n2, container)\r\n        } else { // 更新操作\r\n\r\n        }\r\n    }\r\n\r\n \r\n    // -------------- 处理元素 ---------------\r\n    const mountChildren = (el: any, children: any) => {\r\n        children.forEach((item: any) => {\r\n            let child = CVnode(item)\r\n            patch(null, child, el)\r\n        })\r\n    }\r\n\r\n    const mountElement = (n2: any, container: any,ancher:any) => {\r\n        // 递归渲染  =》 真实dom =》 放到对应的页面\r\n        const { props, shapeFlag, type, children } = n2\r\n        // 创建元素\r\n        let el = n2.el = hostCreateElement(type)\r\n\r\n        //添加属性\r\n        if (props) {\r\n            for (let k in props) {\r\n                hostPatchProp(el, k, null, props[k])\r\n            }\r\n        }\r\n        // 处理children\r\n        if (children) {\r\n            if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\r\n                // 创建文本元素\r\n                hostSetElementText(el, children)\r\n                \r\n            } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n                // 递归\r\n                mountChildren(el, children)\r\n            }\r\n        }\r\n        // 加载到对应的位置\r\n        hostInsert(el, container,ancher)\r\n    }\r\n\r\n    //--------------------diff比对----------------------------------\r\n    // 属性比对\r\n    const patchProps = (oldProps:any,newProps:any,el:any) => {\r\n       if(oldProps !=newProps) { // 属性不相同的时候\r\n        for(let k in newProps ) {\r\n            const prev = oldProps[k]\r\n            const next = newProps[k]\r\n            if(prev != next) {\r\n                hostPatchProp(el,k,prev,next)\r\n            }\r\n        }   \r\n       }\r\n       for(let k in oldProps) {\r\n        if(!(k in newProps)) {\r\n            hostPatchProp(el,k,oldProps[k],null)\r\n        }\r\n       }\r\n    }\r\n\r\n    // 最长递增子序列\r\n    function getSequence(arr:Array<number>) {\r\n        let len = arr.length\r\n        let start ,end,mid\r\n        let result = [0]\r\n        let p = arr.slice(0)\r\n        for(let i =0;i<len;i++) {\r\n            const arrI  = arr[i]\r\n            if(arrI!==0) {\r\n                let resultLastIndex =result[result.length-1] \r\n                if(arrI> arr[resultLastIndex]) {\r\n                    p[i] = resultLastIndex\r\n                    result.push(i)\r\n                    continue\r\n                }\r\n                // 二分查找\r\n                start =0\r\n                end = result.length-1\r\n                while (start < end) {\r\n                    mid = (start + end)/2 |0\r\n                   if(arr[result[mid]]<arrI) {\r\n                    start = mid + 1\r\n                   } else {\r\n                    end =mid\r\n                   }\r\n                } \r\n                if(arrI<arr[result[start]]) {\r\n                    if(start > 0) {\r\n                        p[i] = result[start-1]  \r\n                    }\r\n                    result[start] = i\r\n                }\r\n    \r\n            }\r\n        }\r\n    \r\n        // 驱节点 向前查找\r\n        start =result.length\r\n        end = result[start-1]\r\n        while (start-- > 0) {\r\n            result[start] = end\r\n            end = p[end]\r\n          }\r\n        return result\r\n    }\r\n    // 儿子都是数组的情况\r\n    const patchKeyChild = (c1:any,c2:any,el:any) => {\r\n        // vue3比对规则：从头部开始比对，遇到不相同的就停止比对，然后从尾部开始比对，那个数组没有了就停止比对\r\n        let i = 0 // 记录指针位置\r\n        let l1 = c1.length-1\r\n        let l2 = c2.length -1\r\n        //async form start: 头部比对\r\n        while(i<= l1 && i<= l2) {\r\n            const n1 = c1[i]\r\n            const n2 = c2[i]\r\n            if(isSomeVnode(n1,n2)) {\r\n                patch(n1,n2,el)\r\n            } else {\r\n                break\r\n            }\r\n            i++\r\n        }\r\n\r\n        // async form end ： 尾部开始比对\r\n        while(i<= l1 && i<= l2) {\r\n            const n1 = c1[l1]\r\n            const n2 = c2[l2]\r\n            if(isSomeVnode(n1,n2)) {\r\n                patch(n1,n2,el)\r\n            } else {\r\n                break\r\n            }\r\n            l1--\r\n            l2--\r\n        }\r\n\r\n        if(i>l1) { // 新比旧的多\r\n            // 添加数据\r\n            const next= l2 + 1 // 插入的位置\r\n          const ancher =  next < c2.length?c2[next].el:null\r\n          while(i<=l2) {\r\n            patch(null,c2[i++],el,ancher)\r\n          }\r\n        } else if(i > l2){ // 旧比新的多\r\n            while(i<=l1) {\r\n                unmount(c1[i++])  // 删除多出来的的数据\r\n            }\r\n        } else { // 乱序\r\n            // vue3 解决思路  用新的乱序的数据创建一个乱序的映射表，用旧的乱序的数据，去新的里面找，找到就复用，没有就删除\r\n            let s1 = i\r\n            let s2 = i\r\n\r\n            // 解决乱序对比之后的问题：没有更新到对应的位置，创建的元素，没有插入\r\n            const toBePatched =l2 - s2 +1\r\n            const newIndexToPatchMap = new Array(toBePatched).fill(0)\r\n\r\n            // 创建表\r\n            let keyIndexMap = new Map()\r\n            for(let i = s2;i<=l2;i++) {\r\n                keyIndexMap.set(c2[i].key,i)\r\n            }\r\n            for(let i = s1;i<=l1;i++) {\r\n             let newIndex = keyIndexMap.get(c1[i].key)\r\n                if(newIndex) {\r\n                    newIndexToPatchMap[newIndex-s2] = i+1\r\n                    patch(c1[i],c2[newIndex],el)\r\n                   \r\n                }else {\r\n                    unmount(c1[i])\r\n                }\r\n            }\r\n            // \r\n            const increasingNewIndexSequence = getSequence(newIndexToPatchMap)\r\n            let  j =increasingNewIndexSequence.length-1\r\n            for(let i = toBePatched-1;i>=0 ;i--) {\r\n                let currentIndex = i + s2 \r\n                let child = c2[currentIndex]\r\n                let ancher = currentIndex +1> c2.length?c2[currentIndex+1].el:null\r\n                if(newIndexToPatchMap[i] ===0) {\r\n                    patch(null,child ,el,ancher)\r\n                } else {\r\n                    if(i !==increasingNewIndexSequence[j]) { // 不同就移动插入到相应位置\r\n                        hostInsert(child.el,el,ancher)\r\n                    } else { // 相同就不需要移动\r\n                        j--\r\n                    }\r\n                    \r\n                }\r\n            }\r\n        }\r\n    }\r\n    // chiid比对 \r\n    const patchChild = (n1:any,n2:any,el:any) => {\r\n        const c1 = n1.children\r\n        const c2 = n2.children\r\n        const prevShapeFlage = n1.shapeFlag\r\n        const nextShapeFlage = n2.shapeFlag\r\n        if(nextShapeFlage&ShapeFlags.TEXT_CHILDREN) { // 文本的情况\r\n            if(prevShapeFlage&ShapeFlags.ARRAY_CHILDREN) {\r\n                // unmount(c1)\r\n                // hostSetElementText(el,c2)\r\n            } else {\r\n                hostSetElementText(el,c2)\r\n            }  \r\n        } else { // 不是文本，是 数组\r\n            if(prevShapeFlage&ShapeFlags.ARRAY_CHILDREN) {\r\n                patchKeyChild(c1,c2,el)\r\n            } else { // 旧的是文本\r\n                hostSetElementText(el,'')\r\n                mountChildren(el,c2)\r\n            }\r\n        }\r\n    }\r\n\r\n    const pacthElement = (n1:any,n2:any,container:any,ancher:any) => {\r\n           //  属性 =》 children\r\n           const oldProps = n1.props\r\n           const newProps = n2.props\r\n           let el = (n2.el =n1.el)\r\n           patchProps(oldProps,newProps,el)\r\n\r\n           // 比对children\r\n           patchChild(n1,n2,el)\r\n    }\r\n    function processElement(n1: any, n2: any, container: any,ancher:any) {\r\n        if (n1 === null) {\r\n            mountElement(n2, container,ancher)\r\n        } else { // 更新\r\n            // 同一个元素比对\r\n            pacthElement(n1,n2,container,ancher)\r\n        }\r\n    }\r\n\r\n\r\n    // 渲染的操作\r\n\r\n    const isSomeVnode = (n1:any,n2:any) => {\r\n        return n1.type === n2.type  && n1.key === n2.key\r\n    }\r\n    const unmount = (vnode:any) => {\r\n        hostRemove(vnode.el)\r\n    }\r\n    const patch = (n1: any, n2: any, container: any,ancher:any =null) => {\r\n        // 针对不同的类型  \r\n        if(n1 && isSomeVnode(n1,n2)) {            \r\n            unmount(n1)\r\n            n1 =null\r\n        }\r\n        \r\n        let { shapeFlag, type } = n2\r\n        switch (type) {\r\n            case TEXT:\r\n                processtext(n1, n2, container)\r\n                break;\r\n            default:\r\n                if (shapeFlag & ShapeFlags.ELEMENT) { // 元素\r\n                    processElement(n1, n2, container,ancher)\r\n\r\n                } else if (shapeFlag & ShapeFlags.STATEFUL_COMPONENT) { //组件\r\n                    processComponent(n1, n2, container)\r\n                }\r\n        }\r\n\r\n    }\r\n    let render = (vnode: object, container: any) => {\r\n        // 组件的初始化\r\n        patch(null, vnode, container) // 第一次 渲染\r\n    }\r\n    return {\r\n        createApp: ApiCreateApp(render) // 创建虚拟dom\r\n    }\r\n}\r\n","import { isArray, isObject } from \"@vue/shared\"\r\nimport { createVnode, isVnode } from \"./vnode\"\r\n\r\n// 把节点变成vnode\r\nexport function h(type:any,propsOrchildren:any,children:any=null) {\r\n    const len = arguments.length\r\n    if(len === 2) { //就是有两个参数\r\n        // 元素+ 属性   元素 + children\r\n        if(isObject(propsOrchildren) && !isArray(propsOrchildren)) {\r\n             if(isVnode(propsOrchildren)) {\r\n                return createVnode(type,null,[propsOrchildren])\r\n             }\r\n             return createVnode(type,propsOrchildren)\r\n        } else {\r\n            return createVnode(type,null,propsOrchildren)\r\n        }\r\n    } else{\r\n        if(len>3) {\r\n            children = Array.prototype.slice.call(arguments,2)\r\n        } else if( len ===3 && isVnode(children)) {\r\n            children = [children]\r\n        }\r\n        return createVnode(type,propsOrchildren,children)\r\n    }\r\n}","// runtime-dom 操作dom  1.节点 2. 属性\r\nimport { extend } from \"@vue/shared\";\r\nimport { nodeOps } from \"./nodeOps\";\r\nimport { patchProp } from \"./patchProp\";\r\nimport { createRender} from \"@vue/runtime-core\";\r\n\r\n// vue3 dom 所有的操作\r\nconst renderOptionsDom = extend({patchProp},nodeOps)\r\n\r\nexport const createApp = (rootComponent:any,rootProps:Object) => {\r\n    let app = createRender(renderOptionsDom).createApp(rootComponent,rootProps)\r\n    let {mount} = app\r\n    app.mount = function(container:any) {\r\n        // 挂载组件\r\n        container = nodeOps.querySlecter(container)\r\n        \r\n        container.innerHTML = ''\r\n\r\n        //  将组件渲染的dom元素进行挂载\r\n        mount(container)\r\n    }\r\n    return   app\r\n}\r\n\r\nexport * from '@vue/runtime-core'\r\n\r\n"],"names":[],"mappings":"AAAO,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAA;AAEnC,MAAM,cAAc,GAAG,MAAM,CAAC,SAAS,CAAC,cAAc,CAAA;AAC/C,MAAM,MAAM,GAAG,CAClB,GAAW,EACX,GAAoB,KACM,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,CAAA;AAEpD,MAAM,OAAO,GAAG,KAAK,CAAC,OAAO,CAAA;AAE7B,MAAM,UAAU,GAAG,CAAC,GAAY,KACnC,OAAO,GAAG,KAAK,UAAU,CAAA;AAEtB,MAAM,QAAQ,GAAG,CAAC,GAAY,KAAoB,OAAO,GAAG,KAAK,QAAQ,CAAA;AAEzE,MAAM,QAAQ,GAAG,CAAC,GAAY,KAA8B,GAAG,KAAK,IAAI,IAAI,OAAO,GAAG,KAAK,QAAQ,CAAA;AAE1G;AACO,MAAM,YAAY,GAAG,CAAC,GAAO,KAAK,QAAQ,CAAC,GAAG,CAAC,GAAE,EAAE,KAAK,GAAG,CAAA;AAGlE;AACO,MAAM,UAAU,GAAI,CAAC,KAAS,EAAC,MAAU,KAAa,KAAK,KAAI,MAAM;;ACtB5E;AACO,MAAM,OAAO,GAAE;;;IAGlB,aAAa,EAAC,CAAC,OAAW,KAAK,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC;;AAE9D,IAAA,MAAM,EAAC,CAAC,KAAS,KAAI;AACjB,QAAA,IAAI,MAAM,GAAG,KAAK,CAAC,UAAU,CAAA;AAC7B,QAAA,IAAG,MAAM,EAAE;AACP,YAAA,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,CAAA;AAC5B,SAAA;KACJ;;IAED,MAAM,EAAC,CAAC,KAAS,EAAC,MAAU,EAAC,MAAM,GAAC,IAAI,KAAI;QACxC,MAAM,CAAC,YAAY,CAAC,KAAK,EAAC,MAAM,CAAC,CAAA;KAEpC;;IAED,YAAY,EAAC,CAAC,MAAU,KAAK,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC;;AAE3D,IAAA,cAAc,EAAC,CAAC,EAAM,EAAC,IAAQ,KAAK,EAAE,CAAC,WAAW,GAAG,IAAI;;;IAKzD,UAAU,EAAC,CAAC,IAAQ,KAAK,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC;;AAEtD,IAAA,OAAO,EAAC,CAAC,IAAQ,EAAC,IAAQ,KAAK,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;CAEtD;;AC7BD;AAEO,MAAM,UAAU,GAAG,CAAC,EAAU,EAAC,KAAS,KAAI;IAC/C,IAAG,KAAK,KAAK,EAAE,EAAG;QACd,KAAK,GAAG,EAAE,CAAA;AACb,KAAA;AACD,IAAA,EAAE,CAAC,SAAS,GAAG,KAAK,CAAA;AACxB,CAAC;;ACPD;AAEO,MAAM,UAAU,GAAG,CAAC,EAAO,EAAE,IAAS,EAAE,IAAS,KAAI;AACxD,IAAA,MAAM,KAAK,GAAG,EAAE,CAAC,KAAK,CAAA;IACtB,IAAI,IAAI,KAAK,IAAI,EAAE;AACf,QAAA,EAAE,CAAC,eAAe,CAAC,OAAO,CAAC,CAAA;AAC9B,KAAA;AAAM,SAAA;;AAEH,QAAA,IAAI,IAAI,EAAE;AACN,YAAA,KAAK,IAAI,CAAC,IAAI,IAAI,EAAE;AAChB,gBAAA,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE;AACT,oBAAA,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE,CAAA;AAChB,iBAAA;AACJ,aAAA;AACJ,SAAA;;AAGD,QAAA,KAAK,IAAI,CAAC,IAAI,IAAI,EAAE;YAChB,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAA;AACrB,SAAA;AAEJ,KAAA;AACL,CAAC;;ACtBD;AACO,MAAM,QAAQ,GAAG,CAAC,EAAM,EAAC,GAAO,EAAC,KAAS,KAAI;IACjD,IAAG,KAAK,KAAK,IAAI,EAAE;AACf,QAAA,EAAE,CAAC,eAAe,CAAC,GAAG,CAAC,CAAA;AAC1B,KAAA;AAAM,SAAA;AACH,QAAA,EAAE,CAAC,eAAe,CAAC,GAAG,EAAC,KAAK,CAAC,CAAA;AAChC,KAAA;AACL,CAAC;;ACPD;AACO,MAAM,SAAS,GAAG,CAAC,EAAM,EAAC,GAAO,EAAC,KAAS,KAAI;;AAElD,IAAA,MAAM,QAAQ,GAAG,EAAE,CAAC,IAAI,KAAK,EAAE,CAAC,IAAI,GAAE,EAAE,CAAC,CAAA;AACzC,IAAA,MAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAA;AAC5B,IAAA,IAAG,MAAM,IAAE,KAAK,EAAE;AACd,QAAA,MAAM,CAAC,KAAK,GAAE,KAAK,CAAA;AACtB,KAAA;AAAM,SAAA;QACH,MAAM,SAAS,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAA;AAC5C,QAAA,IAAG,KAAK,EAAE;YACN,IAAI,OAAO,GAAG,QAAQ,CAAC,SAAS,CAAC,GAAG,aAAa,CAAC,KAAK,CAAC,CAAA;AACxD,YAAA,EAAE,CAAC,gBAAgB,CAAC,SAAS,EAAC,OAAO,CAAC,CAAA;AACzC,SAAA;AAAM,aAAA;AACH,YAAA,EAAE,CAAC,mBAAmB,CAAC,SAAS,EAAC,MAAM,CAAC,CAAA;AACxC,YAAA,QAAQ,CAAC,SAAS,CAAC,GAAG,SAAS,CAAA;AAClC,SAAA;AACJ,KAAA;AACL,CAAC,CAAA;AACD,SAAS,aAAa,CAAC,KAAS,EAAA;AAC5B,IAAA,MAAM,OAAO,GAAG,CAAC,CAAO,KAAI;AACxB,QAAA,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;AACpB,KAAC,CAAA;AACD,IAAA,OAAO,CAAC,KAAK,GAAG,KAAK,CAAA;AACrB,IAAA,OAAO,OAAO,CAAA;AAClB;;ACxBA;AAKO,MAAM,SAAS,GAAG,CAAC,EAAU,EAAC,GAAO,EAAC,SAAa,EAAC,SAAa,KAAI;AACxE,IAAA,QAAO,GAAG;AACN,QAAA,KAAK,OAAO;AACR,YAAA,UAAU,CAAC,EAAE,EAAC,SAAS,CAAC,CAAA;YAC5B,MAAM;AACN,QAAA,KAAK,OAAO;AACR,YAAA,UAAU,CAAC,EAAE,EAAC,SAAS,EAAC,SAAS,CAAC,CAAA;YACtC,MAAM;AACN,QAAA;YACI,IAAG,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;AACtB,gBAAA,SAAS,CAAC,EAAE,EAAC,GAAG,EAAC,SAAS,CAAC,CAAA;AAC9B,aAAA;AAAM,iBAAA;AACH,gBAAA,QAAQ,CAAC,EAAE,EAAC,GAAG,EAAC,SAAS,CAAC,CAAA;AAC7B,aAAA;YACD,MAAM;AACb,KAAA;AACL,CAAC;;ACrBD;AACA;AAEO,MAAM,WAAW,GAAG,CAAC,IAAQ,EAAC,KAAS,EAAC,QAAA,GAAc,IAAI,KAAI;;IAEjE,IAAI,SAAS,GAAG,QAAQ,CAAC,IAAI,CAAC,GAAmB,CAAA,4BAAC,QAAQ,CAAC,IAAI,CAAC,GAA8B,CAAA,uCAAC,CAAC,CAAA;AAChG,IAAA,MAAM,KAAK,GAAG;AACV,QAAA,UAAU,EAAC,IAAI;QACf,IAAI;QACJ,KAAK;QACL,QAAQ;AACR,QAAA,GAAG,EAAC,KAAK,IAAI,KAAK,CAAC,GAAG;AACtB,QAAA,EAAE,EAAC,IAAI;AACP,QAAA,SAAS,EAAC,EAAE;QACZ,SAAS;KACZ,CAAA;;AAED,IAAA,iBAAiB,CAAC,KAAK,EAAC,QAAQ,CAAC,CAAA;AACjC,IAAA,OAAO,KAAK,CAAA;AAChB,CAAC,CAAA;AAED,SAAS,iBAAiB,CAAC,KAAS,EAAC,QAAgB,EAAA;IACjD,IAAI,IAAI,GAAG,CAAC,CAAA;IACZ,IAAG,QAAQ,IAAI,IAAI,EAAE;QACjB,QAAQ,GAAG,IAAI,CAAA;AAClB,KAAA;AAAK,SAAA,IAAG,OAAO,CAAC,QAAQ,CAAC,EAAE;AACxB,QAAA,IAAI,sCAA4B;AACnC,KAAA;AAAM,SAAA;AACH,QAAA,IAAI,oCAA0B;AACjC,KAAA;IACD,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC,SAAS,GAAG,IAAI,CAAA;AAC5C,CAAC;AAGK,SAAU,OAAO,CAAC,KAAS,EAAA;IAC7B,OAAO,KAAK,CAAC,UAAU,CAAA;AAC3B,CAAC;AAEM,MAAM,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAA;AAE5B,SAAU,MAAM,CAAC,KAAS,EAAA;IAC5B,IAAG,QAAQ,CAAC,KAAK,CAAC;AAAE,QAAA,OAAO,KAAK,CAAA;IAChC,OAAO,WAAW,CAAC,IAAI,EAAC,IAAI,EAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAA;AAC/C;;AC1CA;AACM,SAAU,YAAY,CAAC,MAAe,EAAA;AACxC,IAAA,OAAO,SAAS,SAAS,CAAC,aAAkB,EAAE,SAAc,EAAA;AACxD,QAAA,IAAI,GAAG,GAAG;;AAEN,YAAA,UAAU,EAAC,aAAa;AACxB,YAAA,MAAM,EAAC,SAAS;AAChB,YAAA,UAAU,EAAC,IAAI;AACf,YAAA,KAAK,CAAC,SAAc,EAAA;;gBAEhB,IAAI,KAAK,GAAG,WAAW,CAAC,aAAa,EAAC,SAAS,CAAC,CAAA;;;AAIhD,gBAAA,MAAM,CAAC,KAAK,EAAC,SAAS,CAAC,CAAA;AACvB,gBAAA,GAAG,CAAC,UAAU,GAAG,SAAS,CAAA;aAC7B;SACJ,CAAA;AACD,QAAA,OAAO,GAAG,CAAA;AACd,KAAC,CAAA;AACL;;ACnBO,MAAM,uBAAuB,GAAG;AACnC,IAAA,GAAG,CAAC,EAAC,CAAC,EAAC,QAAQ,EAAK,EAAC,GAAO,EAAA;AACxB,QAAA,MAAM,EAAC,KAAK,EAAC,UAAU,EAAC,GAAG,QAAQ,CAAA;QAEnC,IAAG,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;YACf,OAAM;AACT,SAAA;AACD,QAAA,IAAG,MAAM,CAAC,KAAK,EAAC,GAAG,CAAC,EAAE;AAClB,YAAA,OAAO,KAAK,CAAC,GAAG,CAAC,CAAA;AACpB,SAAA;AAAM,aAAA,IAAG,MAAM,CAAC,UAAU,EAAC,GAAG,CAAC,EAAE;AAC9B,YAAA,OAAO,UAAU,CAAC,GAAG,CAAC,CAAA;AACzB,SAAA;KACJ;IACD,GAAG,CAAC,EAAC,CAAC,EAAC,QAAQ,EAAK,EAAC,GAAO,EAAC,KAAS,EAAA;AAClC,QAAA,MAAM,EAAC,KAAK,EAAC,UAAU,EAAC,GAAG,QAAQ,CAAA;AACnC,QAAA,IAAG,MAAM,CAAC,KAAK,EAAC,GAAG,CAAC,EAAE;AAClB,YAAA,KAAK,CAAC,GAAG,CAAC,GAAG,KAAK,CAAA;AACrB,SAAA;AAAM,aAAA,IAAG,MAAM,CAAC,UAAU,EAAC,GAAG,CAAC,EAAE;AAC7B,YAAA,UAAU,CAAC,GAAG,CAAC,GAAG,KAAK,CAAA;AAC3B,SAAA;KACJ;CACJ;;ACpBM,MAAM,kBAAkB,GAAG,MAAK;AACnC,IAAA,OAAQ,eAAe,CAAA;AAC3B,EAAC;AAEM,MAAM,kBAAkB,GAAG,CAAC,MAAU,KAAI;IAC7C,eAAe,GAAG,MAAM,CAAA;AAC5B,CAAC,CAAA;AACD;AACO,MAAM,uBAAuB,GAAG,CAAC,YAAgB,KAAI;AACxD,IAAA,MAAM,QAAQ,GAAG;QACb,YAAY;QACZ,IAAI,EAAC,YAAY,CAAC,IAAI;AACtB,QAAA,KAAK,EAAC,EAAE;AACR,QAAA,KAAK,EAAC,EAAE;AACR,QAAA,UAAU,EAAC,EAAE;AACb,QAAA,GAAG,EAAC,EAAE;AACN,QAAA,KAAK,EAAC,EAAE;AACR,QAAA,MAAM,EAAC,KAAK;QACZ,SAAS,EAAC,KAAK;KAClB,CAAA;IACD,QAAQ,CAAC,GAAG,GAAG,EAAC,CAAC,EAAC,QAAQ,EAAC,CAAA;AAE3B,IAAA,OAAO,QAAQ,CAAA;AACnB,CAAC,CAAA;AAED;AACO,MAAM,cAAc,GAAG,CAAC,QAAY,KAAI;IAE5C,MAAM,EAAC,KAAK,EAAC,QAAQ,EAAC,GAAG,QAAQ,CAAC,YAAY,CAAA;AAC9C,IAAA,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAA;AACtB,IAAA,QAAQ,CAAC,QAAQ,GAAG,QAAQ,CAAA;;IAE5B,IAAI,SAAS,GAAG,QAAQ,CAAC,YAAY,CAAC,SAAS,yCAAgC;IAC/E,IAAG,SAAS,EAAE;QACT,mBAAmB,CAAC,QAAQ,CAAC,CAAA;AACjC,KAAA;AAEJ,CAAC,CAAA;AAED;AACO,IAAI,eAAmB,CAAA;AAC9B,SAAS,mBAAmB,CAAC,QAAY,EAAA;AACrC,IAAA,QAAQ,CAAC,KAAK,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,GAAG,EAAC,uBAA8B,CAAC,CAAA;;AAGvE,IAAA,IAAI,SAAS,GAAG,QAAQ,CAAC,IAAI,CAAA;AAC7B,IAAA,IAAI,EAAC,KAAK,EAAC,GAAG,SAAS,CAAA;IACvB,IAAG,KAAK,EAAE;AACN,QAAA,IAAI,YAAY,GAAG,aAAa,CAAC,QAAQ,CAAC,CAAA;;QAE1C,eAAe,GAAE,QAAQ,CAAA;QAC1B,IAAI,WAAW,GAAG,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAC,YAAY,CAAC,CAAA;QACpD,eAAe,GAAG,IAAI,CAAA;AACrB,QAAA,kBAAkB,CAAC,QAAQ,EAAC,WAAW,CAAC,CAAA;AAC3C,KAAA;AAAM,SAAA;;QAEH,oBAAoB,CAAC,QAAQ,CAAC,CAAA;AACjC,KAAA;;AAGL,CAAC;AAED;AACA,SAAS,kBAAkB,CAAC,QAAY,EAAC,WAAmB,EAAA;AACxD,IAAA,IAAG,QAAQ,CAAC,WAAW,CAAC,EAAE;AACtB,QAAA,QAAQ,CAAC,UAAU,GAAG,WAAW,CAAA;AACpC,KAAA;AACD,IAAA,IAAG,UAAU,CAAC,WAAW,CAAC,EAAE;AACxB,QAAA,QAAQ,CAAC,MAAM,GAAG,WAAW,CAAA;AAChC,KAAA;;IAGD,oBAAoB,CAAC,QAAQ,CAAC,CAAA;AAClC,CAAC;AAED;AACA,SAAS,oBAAoB,CAAC,QAAY,EAAA;AACtC,IAAA,IAAI,SAAS,GAAG,QAAQ,CAAC,IAAI,CAAA;AAC7B,IAAA,OAAO,CAAC,GAAG,CAAC,SAAS,EAAC,QAAQ,CAAC,CAAC;AAEhC,IAAA,IAAG,CAAC,QAAQ,CAAC,MAAM,EAAE;QACjB,IAAG,CAAC,SAAS,CAAC,MAAM,IAAE,SAAS,CAAC,QAAQ,EAAE,CAEzC;AACD,QAAA,QAAQ,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAA;AAErC,KAAA;AACD,IAAA,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA;AACnC,CAAC;AAED,SAAS,aAAa,CAAC,QAAY,EAAA;IAC/B,OAAO;QACH,KAAK,EAAC,QAAQ,CAAC,KAAK;QACpB,KAAK,EAAC,QAAQ,CAAC,QAAQ;AACvB,QAAA,IAAI,EAAC,MAAI,GAAG;AACZ,QAAA,MAAM,EAAC,MAAI,GAAE;KAChB,CAAA;AACL;;ACpGA;SAKgB,MAAM,CAAC,EAAY,EAAE,UAAe,EAAE,EAAA;IAClD,MAAM,MAAM,GAAG,iBAAiB,CAAC,EAAE,EAAE,OAAO,CAAC,CAAA;AAC7C,IAAA,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;AACf,QAAA,MAAM,EAAE,CAAA;AACX,KAAA;AAED,IAAA,OAAO,MAAM,CAAA;AACjB,CAAC;AACD,IAAI,GAAG,GAAG,CAAC,CAAA;AACX,IAAI,YAAiB,CAAA;AAErB,MAAM,WAAW,GAAQ,EAAE,CAAA;AAC3B,SAAS,iBAAiB,CAAC,EAAY,EAAE,OAAY,EAAA;IACjD,MAAM,MAAM,GAAG,SAAS,cAAc,GAAA;;QAElC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;YAC/B,IAAI;;AAEA,gBAAA,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;gBACxB,YAAY,GAAG,MAAM,CAAA;gBACpB,OAAO,EAAE,EAAE,CAAA;AACf,aAAA;AAAS,oBAAA;;gBAEN,WAAW,CAAC,GAAG,EAAE,CAAA;gBACjB,YAAY,GAAG,WAAW,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAA;AACrD,aAAA;AACJ,SAAA;AAEL,KAAC,CAAA;AACD,IAAA,MAAM,CAAC,EAAE,GAAG,GAAG,EAAE,CAAA;AACjB,IAAA,MAAM,CAAC,SAAS,GAAG,IAAI,CAAA;AACvB,IAAA,MAAM,CAAC,GAAG,GAAG,EAAE,CAAA;AACf,IAAA,MAAM,CAAC,OAAO,GAAG,OAAO,CAAA;AACxB,IAAA,OAAO,MAAM,CAAA;AACjB,CAAC;AAED;AACA,IAAI,SAAS,GAAG,IAAI,OAAO,EAAE,CAAA;SACb,KAAK,CAAC,MAAc,EAAE,IAAS,EAAE,GAAoB,EAAA;;;AAGjE,IAAA,IAAG,YAAY,KAAK,SAAS,EAAE;QAC3B,OAAM;AACT,KAAA;;IAEA,IAAI,MAAM,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;IACnC,IAAG,CAAC,MAAM,EAAE;AACR,QAAA,SAAS,CAAC,GAAG,CAAC,MAAM,GAAE,MAAM,GAAG,IAAI,GAAG,EAAE,CAAA;AAC3C,KAAA;IACD,IAAI,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;AACzB,IAAA,IAAG,CAAC,GAAG,EAAE;AACL,QAAA,MAAM,CAAC,GAAG,CAAC,GAAG,GAAE,GAAG,GAAG,IAAI,GAAG,EAAE,CAAA;AAClC,KAAA;AACD,IAAA,IAAG,CAAC,GAAG,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE;AACvB,QAAA,GAAG,CAAC,GAAG,CAAC,YAAY,CAAC,CAAA;AACxB,KAAA;;AAEL,CAAC;AAEK,SAAU,OAAO,CAAC,MAAa,EAAC,IAAQ,EAAC,GAAQ,EAAC,QAAa,EAAC,QAAa,EAAA;;IAE/E,MAAM,OAAO,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;;AAErC,IAAA,IAAG,CAAC,OAAO;QAAE,OAAM;;AAEnB,IAAA,IAAI,SAAS,GAAG,IAAI,GAAG,EAAE,CAAA;AACzB,IAAA,MAAM,GAAG,GAAG,CAAC,SAAa,KAAI;AAC1B,QAAA,IAAG,SAAS,EAAE;AACV,YAAA,SAAS,CAAC,OAAO,CAAC,CAAC,MAAU,KAAI,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAA;AAC1D,SAAA;AACL,KAAC,CAAA;;IAGD,IAAG,GAAG,KAAK,QAAQ,IAAI,OAAO,CAAC,MAAM,CAAC,EAAE;QACpC,OAAO,CAAC,OAAO,CAAC,CAAC,GAAO,EAAC,GAAO,KAAI;AAChC,YAAA,IAAG,GAAG,KAAK,QAAQ,IAAI,GAAG,IAAK,QAAmB,EAAE;gBAChD,GAAG,CAAC,GAAG,CAAC,CAAA;AACX,aAAA;AACL,SAAC,CAAC,CAAA;AACL,KAAA;AAAM,SAAA;;QAEH,IAAG,GAAG,IAAI,SAAS,EAAE;YACjB,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAA;AACxB,SAAA;;AAED,QAAA,QAAO,IAAI;AACP,YAAA,KAAA,KAAA;gBACI,IAAG,OAAO,CAAC,MAAM,CAAC,IAAE,YAAY,CAAC,GAAG,CAAC,EAAE;oBACnC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAA;AAC7B,iBAAA;AACR,SAAA;AACJ,KAAA;AACD,IAAA,SAAS,CAAC,OAAO,CAAC,CAAC,MAAU,KAAI;AAC7B,QAAA,IAAG,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE;AACnB,YAAA,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE,CAAA;AACvB,SAAA;AAAM,aAAA;AACH,YAAA,MAAM,EAAE,CAAA;AACX,SAAA;AACL,KAAC,CAAE,CAAA;AAEP;;ACrGA;;;;;AAKG;AACH,SAAS,YAAY,CAAC,UAAU,GAAG,KAAK,EAAE,OAAO,GAAG,KAAK,EAAA;AACrD,IAAA,OAAO,SAAS,GAAG,CAAC,MAAc,EAAE,GAAoB,EAAE,QAAgB,EAAA;AACtE,QAAA,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,EAAE,QAAQ,CAAC,CAAA;QAC9C,IAAI,CAAC,UAAU,EAAE;;AAEb,YAAA,KAAK,CAAC,MAAM,EAAoB,KAAA,yBAAA,GAAG,CAAC,CAAA;AACvC,SAAA;AACD,QAAA,IAAI,OAAO,EAAE;AACT,YAAA,OAAO,GAAG,CAAA;AACb,SAAA;AACD,QAAA,IAAI,QAAQ,CAAC,GAAG,CAAC,EAAE;AACf,YAAA,OAAO,UAAU,GAAG,QAAQ,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAA;AACpD,SAAA;AACD,QAAA,OAAO,GAAG,CAAA;AACd,KAAC,CAAA;AACL,CAAC;AACD,MAAM,GAAG,GAAG,YAAY,EAAE,CAAA;AAC1B,MAAM,UAAU,GAAG,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,CAAA;AAC5C,MAAM,WAAW,GAAG,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,CAAA;AAC7C,MAAM,kBAAkB,GAAG,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAA;AAEnD,SAAS,YAAY,CAAC,OAAO,GAAG,KAAK,EAAA;AACjC,IAAA,OAAO,UAAU,MAAW,EAAE,GAAoB,EAAE,KAAc,EAAE,QAAgB,EAAA;AAChF,QAAA,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,CAAA;AAC5B,QAAA,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAA;AACxD,QAAA,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,IAAI,YAAY,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAA;AACrG,QAAA,IAAI,CAAC,MAAM,EAAE;AACT,YAAA,OAAO,CAAC,MAAM,EAAA,KAAA,2BAAsB,GAAG,EAAE,KAAK,CAAC,CAAA;AAClD,SAAA;aAAM,IAAI,UAAU,CAAC,KAAK,EAAE,QAAQ,CAAC,EAAE;YACpC,OAAO,CAAC,MAAM,EAAsB,KAAA,2BAAA,GAAG,EAAE,KAAe,CAAC,CAAA;AAC5D,SAAA;AACD,QAAA,OAAO,MAAM,CAAA;AACjB,KAAC,CAAA;AACL,CAAC;AACD,MAAM,GAAG,GAAG,YAAY,EAAE,CAAA;AAC1B,MAAM,UAAU,GAAG,YAAY,CAAC,IAAI,CAAC,CAAA;AAC9B,MAAM,gBAAgB,GAAG;IAC5B,GAAG;IACH,GAAG;CACN,CAAA;AAEM,MAAM,gBAAgB,GAAG;AAC5B,IAAA,GAAG,EAAE,WAAW;IAChB,GAAG,EAAE,MAAK;AACN,QAAA,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;KAC7B;CACJ,CAAA;AAEM,MAAM,uBAAuB,GAAG;AACnC,IAAA,GAAG,EAAE,UAAU;AACf,IAAA,GAAG,EAAE,UAAU;CAClB,CAAA;AAEM,MAAM,uBAAuB,GAAG;AACnC,IAAA,GAAG,EAAE,kBAAkB;IACvB,GAAG,EAAE,MAAK;AACN,QAAA,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;KAC/B;CACJ;;ACpED;AACA;AAQM,SAAU,QAAQ,CAAC,MAAa,EAAA;IACnC,OAAO,cAAc,CAAC,MAAM,EAAC,KAAK,EAAC,gBAAgB,CAAC,CAAA;AACvD,CAAC;AAEK,SAAU,eAAe,CAAC,MAAa,EAAA;IACzC,OAAO,cAAc,CAAC,MAAM,EAAC,KAAK,EAAC,uBAAuB,CAAC,CAAA;AAC/D,CAAC;AAEK,SAAU,QAAQ,CAAC,MAAa,EAAA;IAClC,OAAO,cAAc,CAAC,MAAM,EAAC,IAAI,EAAC,gBAAgB,CAAC,CAAA;AACvD,CAAC;AAEK,SAAU,eAAe,CAAC,MAAa,EAAA;IACzC,OAAO,cAAc,CAAC,MAAM,EAAC,IAAI,EAAC,uBAAuB,CAAC,CAAA;AAC9D,CAAC;AAED;AACA;AACA,MAAM,WAAW,GAAG,IAAI,OAAO,EAAE,CAAA;AACjC,MAAM,WAAW,GAAG,IAAI,OAAO,EAAE,CAAA;AACjC,SAAS,cAAc,CAAC,MAAU,EAAC,UAAkB,EAAC,YAAmB,EAAA;AACrE,IAAA,IAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;AAClB,QAAA,OAAO,MAAM,CAAA;AAChB,KAAA;IACL,MAAM,QAAQ,GAAG,UAAU,GAAC,WAAW,GAAC,WAAW,CAAA;IACnD,MAAM,OAAO,GAAG,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;AACpC,IAAA,IAAG,OAAO,EAAE;AACR,QAAA,OAAO,OAAO,CAAA;AACjB,KAAA;IAED,MAAM,KAAK,GAAG,IAAI,KAAK,CAAC,MAAM,EAAC,YAAY,CAAC,CAAA;AAC5C,IAAA,QAAQ,CAAC,GAAG,CAAC,MAAM,EAAC,KAAK,CAAC,CAAA;AACxB,IAAA,OAAO,KAAK,CAAA;AACd;;ACtCM,SAAU,GAAG,CAAC,QAAY,EAAA;AAC5B,IAAA,OAAO,SAAS,CAAC,QAAQ,CAAC,CAAA;AAC9B,CAAC;AAMD;AACA,MAAM,OAAO,CAAA;AAIU,IAAA,QAAA,CAAA;AAAoB,IAAA,OAAA,CAAA;;IAFhC,QAAQ,GAAG,IAAI,CAAA;AACf,IAAA,MAAM,CAAI;IACjB,WAAmB,CAAA,QAAY,EAAQ,OAAe,EAAA;QAAnC,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAI;QAAQ,IAAO,CAAA,OAAA,GAAP,OAAO,CAAQ;AACpD,QAAA,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAA;KACvB;;AAED,IAAA,IAAI,KAAK,GAAA;AACL,QAAA,KAAK,CAAC,IAAI,EAAkB,KAAA,yBAAA,OAAO,CAAC,CAAA;QACpC,OAAO,IAAI,CAAC,MAAM,CAAA;KACrB;IACD,IAAI,KAAK,CAAC,QAAQ,EAAA;QACd,IAAG,UAAU,CAAC,QAAQ,EAAC,IAAI,CAAC,MAAM,CAAC,EAAE;AACjC,YAAA,IAAI,CAAC,MAAM,GAAE,QAAQ,CAAA;AACrB,YAAA,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAA;AACxB,YAAA,OAAO,CAAC,IAAI,EAAA,KAAA,2BAAoB,OAAO,EAAC,QAAQ,CAAC,CAAA;AACpD,SAAA;KAEJ;AACJ,CAAA;AAED,SAAS,SAAS,CAAC,QAAY,EAAC,OAAO,GAAC,KAAK,EAAA;AACzC,IAAA,OAAO,IAAI,OAAO,CAAC,QAAQ,EAAC,OAAO,CAAC,CAAA;AACxC,CAAC;AAGD;AACgB,SAAA,KAAK,CAAC,MAAU,EAAC,GAAO,EAAA;AACpC,IAAA,OAAO,IAAI,aAAa,CAAC,MAAM,EAAC,GAAG,CAAC,CAAA;AACxC,CAAC;AAED,MAAM,aAAa,CAAA;AAGI,IAAA,MAAA,CAAA;AAAmB,IAAA,GAAA,CAAA;IAF/B,QAAQ,GAAG,IAAI,CAAA;AACf,IAAA,OAAO,CAAI;IAClB,WAAmB,CAAA,MAAU,EAAS,GAAO,EAAA;QAA1B,IAAM,CAAA,MAAA,GAAN,MAAM,CAAI;QAAS,IAAG,CAAA,GAAA,GAAH,GAAG,CAAI;AACzC,QAAA,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,GAAG,CAAC,CAAA;KAC7B;AACD,IAAA,IAAI,KAAK,GAAA;QACL,OAAO,IAAI,CAAC,OAAO,CAAA;KACtB;IACD,IAAI,KAAK,CAAC,QAAQ,EAAA;AACd,QAAA,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAA;QACvB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAA;KACnC;AACJ,CAAA;AAGD;AACM,SAAU,MAAM,CAAC,MAAU,EAAA;IAC7B,IAAI,GAAG,GAAO,OAAO,CAAC,MAAM,CAAC,GAAC,IAAI,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,GAAC,EAAE,CAAA;AACzD,IAAA,KAAI,IAAI,GAAG,IAAI,MAAM,EAAE;QACnB,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,MAAM,EAAC,GAAG,CAAC,CAAA;AAC/B,KAAA;AACD,IAAA,OAAO,GAAG,CAAA;AACd;;ACjEA;AACM,SAAU,QAAQ,CAAC,eAAmB,EAAA;AACxC,IAAA,IAAI,MAAM,CAAC;AACX,IAAA,IAAI,MAAM,CAAC;AACX,IAAA,IAAI,UAAU,CAAC,eAAe,CAAC,EAAE;QAC7B,MAAM,GAAG,eAAe,CAAA;QACxB,MAAM,GAAG,MAAK;AACV,YAAA,OAAO,CAAC,IAAI,CAAC,iCAAiC,CAAC,CAAA;AACnD,SAAC,CAAA;AACJ,KAAA;AAAM,SAAA;AACH,QAAA,MAAM,GAAG,eAAe,CAAC,GAAG,CAAA;AAC5B,QAAA,MAAM,GAAG,eAAe,CAAC,GAAG,CAAA;AAC/B,KAAA;AACD,IAAA,OAAO,IAAI,eAAe,CAAC,MAAM,EAAC,MAAM,CAAC,CAAA;AAC7C,CAAC;AAED,MAAM,eAAe,CAAA;AAMkB,IAAA,MAAA,CAAA;IAL5B,aAAa,GAAG,IAAI,CAAA;IACpB,QAAQ,GAAG,IAAI,CAAA;IACf,MAAM,GAAG,IAAI,CAAA;AACb,IAAA,MAAM,CAAK;AACX,IAAA,MAAM,CAAI;IACjB,WAAY,CAAA,MAAe,EAAQ,MAAe,EAAA;QAAf,IAAM,CAAA,MAAA,GAAN,MAAM,CAAS;AAC9C,QAAA,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,EAAC;AACxB,YAAA,IAAI,EAAC,IAAI;YACT,GAAG,EAAE,MAAK;AACN,gBAAA,IAAG,CAAC,IAAI,CAAC,MAAM,EAAE;AACb,oBAAA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAA;AACrB,iBAAA;aACJ;AACJ,SAAA,CAAC,CAAA;KAEL;AACD,IAAA,IAAI,KAAK,GAAA;;QAEL,IAAG,IAAI,CAAC,MAAM,EAAE;AACd,YAAA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,EAAE,CAAA;AAC3B,YAAA,IAAI,CAAC,MAAM,GAAG,KAAK,CAAA;AACpB,SAAA;QACD,OAAO,IAAI,CAAC,MAAM,CAAA;KACrB;IACD,IAAI,KAAK,CAAC,QAAQ,EAAA;AACd,QAAA,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAA;KACxB;AACJ;;ACrCA,MAAM,UAAU,GAAG,CAAC,SAAa,EAAC,IAAa,EAAC,MAAU,KAAI;AACvD,IAAA,IAAG,CAAC,MAAM;QAAE,OAAM;AAClB,IAAA,MAAM,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC,KAAK,MAAM,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,CAAA;;IAE3D,MAAM,GAAG,GAAG,MAAK;QACb,kBAAkB,CAAC,MAAM,CAAC,CAAA;QAC1B,IAAI,EAAE,CAAA;QACN,kBAAkB,CAAC,IAAI,CAAC,CAAA;AAC5B,KAAC,CAAA;AACD,IAAA,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;AACtB,CAAC,CAAA;AACF,SAAS,UAAU,CAAC,SAAa,EAAA;AAC7B,IAAA,OAAO,UAAS,IAAa,EAAC,MAAA,GAAa,eAAe,EAAA;AACrD,QAAA,UAAU,CAAC,SAAS,EAAC,IAAI,EAAC,MAAM,CAAC,CAAA;AACtC,KAAC,CAAA;AACL,CAAC;AAEc,MAAA,aAAa,GAAG,UAAU,oCAAwB;AAClD,MAAA,SAAS,GAAG,UAAU,8BAAmB;AACzC,MAAA,cAAc,GAAE,UAAU,uCAA2B;AACrD,MAAA,SAAS,GAAG,UAAU,6BAAkB;AAEhD,SAAU,cAAc,CAAC,GAAmB,EAAA;IAC/C,GAAG,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,CAAA;AAC1B;;AC3BK,SAAU,YAAY,CAAC,gBAAqB,EAAA;;AAE9C,IAAA,MAAM,EACF,MAAM,EAAE,UAAU,EAClB,MAAM,EAAE,UAAU,EAClB,SAAS,EAAE,aAAa,EACxB,cAAc,EAAE,kBAAkB,EAClC,aAAa,EAAE,iBAAiB,EAChC,UAAU,EAAE,cAAc,EAC1B,aAAa,EAAE,iBAAiB,EAChC,OAAO,EAAE,WAAW,EACpB,cAAc,EAAE,kBAAkB,GACrC,GAAG,gBAAgB,CAAA;AACpB,IAAA,SAAS,iBAAiB,CAAC,QAAa,EAAE,SAAc,EAAA;;QAEpD,MAAM,CAAC,SAAS,eAAe,GAAA;AAC3B,YAAA,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE;;AAErB,gBAAA,IAAI,EAAC,EAAE,EAAC,CAAC,EAAC,GAAG,QAAQ,CAAA;AACrB,gBAAA,IAAG,EAAE,EAAE;oBACH,cAAc,CAAC,EAAE,CAAC,CAAA;AACrB,iBAAA;;AAED,gBAAA,IAAI,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAA;AAE1B,gBAAA,IAAI,OAAO,GAAG,QAAQ,CAAC,OAAO,GAAE,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAAA;;AAGlE,gBAAA,KAAK,CAAC,IAAI,EAAE,OAAO,EAAE,SAAS,CAAC,CAAA;;AAE/B,gBAAA,IAAG,CAAC,EAAE;oBACF,cAAc,CAAC,CAAC,CAAC,CAAA;AACpB,iBAAA;AACD,gBAAA,QAAQ,CAAC,SAAS,GAAE,IAAI,CAAA;AAC3B,aAAA;AAAM,iBAAA;;AAEH,gBAAA,IAAI,EAAC,CAAC,EAAC,EAAE,EAAC,GAAG,QAAQ,CAAA;;AAErB,gBAAA,IAAG,EAAE,EAAE;oBACH,cAAc,CAAC,EAAE,CAAC,CAAA;AACrB,iBAAA;AACD,gBAAA,IAAI,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAA;AAC1B,gBAAA,MAAM,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAA;AACjC,gBAAA,MAAM,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAAA;AACnD,gBAAA,QAAQ,CAAC,OAAO,GAAG,QAAQ,CAAA;AAC3B,gBAAA,KAAK,CAAC,QAAQ,EAAC,QAAQ,EAAC,SAAS,CAAC,CAAA;;AAElC,gBAAA,IAAG,CAAC,EAAE;oBACF,cAAc,CAAC,CAAC,CAAC,CAAA;AACpB,iBAAA;AACJ,aAAA;AACL,SAAC,CAAC,CAAA;KACL;;IAKD,MAAM,WAAW,GAAG,CAAC,EAAO,EAAE,EAAO,EAAE,SAAc,KAAI;QACjD,IAAG,EAAE,KAAG,IAAI,EAAE;;YAEV,EAAE,CAAC,EAAE,GAAG,cAAc,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAA;AAEnC,YAAA,UAAU,CAAC,EAAE,CAAC,EAAE,EAAC,SAAS,CAAC,CAAA;AAE9B,SAEA;AACT,KAAC,CAAA;;;AAID,IAAA,MAAM,cAAc,GAAG,CAAC,YAAiB,EAAE,SAAc,KAAI;;QAEzD,MAAM,QAAQ,GAAG,YAAY,CAAC,SAAS,GAAG,uBAAuB,CAAC,YAAY,CAAC,CAAA;;QAE/E,cAAc,CAAC,QAAQ,CAAC,CAAA;;AAExB,QAAA,iBAAiB,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAA;AAC1C,KAAC,CAAA;;IAED,MAAM,gBAAgB,GAAG,CAAC,EAAO,EAAE,EAAO,EAAE,SAAc,KAAI;AAC1D,QAAA,IAAI,EAAE,KAAK,IAAI,EAAE;AACb,YAAA,cAAc,CAAC,EAAE,EAAE,SAAS,CAAC,CAAA;AAChC,SAEA;AACL,KAAC,CAAA;;AAID,IAAA,MAAM,aAAa,GAAG,CAAC,EAAO,EAAE,QAAa,KAAI;AAC7C,QAAA,QAAQ,CAAC,OAAO,CAAC,CAAC,IAAS,KAAI;AAC3B,YAAA,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,CAAA;AACxB,YAAA,KAAK,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,CAAC,CAAA;AAC1B,SAAC,CAAC,CAAA;AACN,KAAC,CAAA;IAED,MAAM,YAAY,GAAG,CAAC,EAAO,EAAE,SAAc,EAAC,MAAU,KAAI;;QAExD,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAA;;QAE/C,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,iBAAiB,CAAC,IAAI,CAAC,CAAA;;AAGxC,QAAA,IAAI,KAAK,EAAE;AACP,YAAA,KAAK,IAAI,CAAC,IAAI,KAAK,EAAE;AACjB,gBAAA,aAAa,CAAC,EAAE,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAA;AACvC,aAAA;AACJ,SAAA;;AAED,QAAA,IAAI,QAAQ,EAAE;YACV,IAAI,SAAS,qCAA6B;;AAEtC,gBAAA,kBAAkB,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAA;AAEnC,aAAA;iBAAM,IAAI,SAAS,uCAA8B;;AAE9C,gBAAA,aAAa,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAA;AAC9B,aAAA;AACJ,SAAA;;AAED,QAAA,UAAU,CAAC,EAAE,EAAE,SAAS,EAAC,MAAM,CAAC,CAAA;AACpC,KAAC,CAAA;;;IAID,MAAM,UAAU,GAAG,CAAC,QAAY,EAAC,QAAY,EAAC,EAAM,KAAI;AACrD,QAAA,IAAG,QAAQ,IAAG,QAAQ,EAAE;AACvB,YAAA,KAAI,IAAI,CAAC,IAAI,QAAQ,EAAG;AACpB,gBAAA,MAAM,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAA;AACxB,gBAAA,MAAM,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAA;gBACxB,IAAG,IAAI,IAAI,IAAI,EAAE;oBACb,aAAa,CAAC,EAAE,EAAC,CAAC,EAAC,IAAI,EAAC,IAAI,CAAC,CAAA;AAChC,iBAAA;AACJ,aAAA;AACD,SAAA;AACD,QAAA,KAAI,IAAI,CAAC,IAAI,QAAQ,EAAE;AACtB,YAAA,IAAG,EAAE,CAAC,IAAI,QAAQ,CAAC,EAAE;AACjB,gBAAA,aAAa,CAAC,EAAE,EAAC,CAAC,EAAC,QAAQ,CAAC,CAAC,CAAC,EAAC,IAAI,CAAC,CAAA;AACvC,aAAA;AACD,SAAA;AACJ,KAAC,CAAA;;IAGD,SAAS,WAAW,CAAC,GAAiB,EAAA;AAClC,QAAA,IAAI,GAAG,GAAG,GAAG,CAAC,MAAM,CAAA;AACpB,QAAA,IAAI,KAAK,EAAE,GAAG,EAAC,GAAG,CAAA;AAClB,QAAA,IAAI,MAAM,GAAG,CAAC,CAAC,CAAC,CAAA;QAChB,IAAI,CAAC,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;QACpB,KAAI,IAAI,CAAC,GAAE,CAAC,EAAC,CAAC,GAAC,GAAG,EAAC,CAAC,EAAE,EAAE;AACpB,YAAA,MAAM,IAAI,GAAI,GAAG,CAAC,CAAC,CAAC,CAAA;YACpB,IAAG,IAAI,KAAG,CAAC,EAAE;gBACT,IAAI,eAAe,GAAE,MAAM,CAAC,MAAM,CAAC,MAAM,GAAC,CAAC,CAAC,CAAA;AAC5C,gBAAA,IAAG,IAAI,GAAE,GAAG,CAAC,eAAe,CAAC,EAAE;AAC3B,oBAAA,CAAC,CAAC,CAAC,CAAC,GAAG,eAAe,CAAA;AACtB,oBAAA,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;oBACd,SAAQ;AACX,iBAAA;;gBAED,KAAK,GAAE,CAAC,CAAA;AACR,gBAAA,GAAG,GAAG,MAAM,CAAC,MAAM,GAAC,CAAC,CAAA;gBACrB,OAAO,KAAK,GAAG,GAAG,EAAE;oBAChB,GAAG,GAAG,CAAC,KAAK,GAAG,GAAG,IAAE,CAAC,GAAE,CAAC,CAAA;oBACzB,IAAG,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAC,IAAI,EAAE;AACzB,wBAAA,KAAK,GAAG,GAAG,GAAG,CAAC,CAAA;AACf,qBAAA;AAAM,yBAAA;wBACN,GAAG,GAAE,GAAG,CAAA;AACR,qBAAA;AACH,iBAAA;gBACD,IAAG,IAAI,GAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE;oBACxB,IAAG,KAAK,GAAG,CAAC,EAAE;wBACV,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,KAAK,GAAC,CAAC,CAAC,CAAA;AACzB,qBAAA;AACD,oBAAA,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;AACpB,iBAAA;AAEJ,aAAA;AACJ,SAAA;;AAGD,QAAA,KAAK,GAAE,MAAM,CAAC,MAAM,CAAA;AACpB,QAAA,GAAG,GAAG,MAAM,CAAC,KAAK,GAAC,CAAC,CAAC,CAAA;AACrB,QAAA,OAAO,KAAK,EAAE,GAAG,CAAC,EAAE;AAChB,YAAA,MAAM,CAAC,KAAK,CAAC,GAAG,GAAG,CAAA;AACnB,YAAA,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAA;AACb,SAAA;AACH,QAAA,OAAO,MAAM,CAAA;KAChB;;IAED,MAAM,aAAa,GAAG,CAAC,EAAM,EAAC,EAAM,EAAC,EAAM,KAAI;;AAE3C,QAAA,IAAI,CAAC,GAAG,CAAC,CAAA;AACT,QAAA,IAAI,EAAE,GAAG,EAAE,CAAC,MAAM,GAAC,CAAC,CAAA;AACpB,QAAA,IAAI,EAAE,GAAG,EAAE,CAAC,MAAM,GAAE,CAAC,CAAA;;AAErB,QAAA,OAAM,CAAC,IAAG,EAAE,IAAI,CAAC,IAAG,EAAE,EAAE;AACpB,YAAA,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAA;AAChB,YAAA,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAA;AAChB,YAAA,IAAG,WAAW,CAAC,EAAE,EAAC,EAAE,CAAC,EAAE;AACnB,gBAAA,KAAK,CAAC,EAAE,EAAC,EAAE,EAAC,EAAE,CAAC,CAAA;AAClB,aAAA;AAAM,iBAAA;gBACH,MAAK;AACR,aAAA;AACD,YAAA,CAAC,EAAE,CAAA;AACN,SAAA;;AAGD,QAAA,OAAM,CAAC,IAAG,EAAE,IAAI,CAAC,IAAG,EAAE,EAAE;AACpB,YAAA,MAAM,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAA;AACjB,YAAA,MAAM,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAA;AACjB,YAAA,IAAG,WAAW,CAAC,EAAE,EAAC,EAAE,CAAC,EAAE;AACnB,gBAAA,KAAK,CAAC,EAAE,EAAC,EAAE,EAAC,EAAE,CAAC,CAAA;AAClB,aAAA;AAAM,iBAAA;gBACH,MAAK;AACR,aAAA;AACD,YAAA,EAAE,EAAE,CAAA;AACJ,YAAA,EAAE,EAAE,CAAA;AACP,SAAA;AAED,QAAA,IAAG,CAAC,GAAC,EAAE,EAAE;;AAEL,YAAA,MAAM,IAAI,GAAE,EAAE,GAAG,CAAC,CAAA;YACpB,MAAM,MAAM,GAAI,IAAI,GAAG,EAAE,CAAC,MAAM,GAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,GAAC,IAAI,CAAA;YACjD,OAAM,CAAC,IAAE,EAAE,EAAE;AACX,gBAAA,KAAK,CAAC,IAAI,EAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAC,EAAE,EAAC,MAAM,CAAC,CAAA;AAC9B,aAAA;AACF,SAAA;AAAM,aAAA,IAAG,CAAC,GAAG,EAAE,EAAC;YACb,OAAM,CAAC,IAAE,EAAE,EAAE;gBACT,OAAO,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;AACnB,aAAA;AACJ,SAAA;AAAM,aAAA;;YAEH,IAAI,EAAE,GAAG,CAAC,CAAA;YACV,IAAI,EAAE,GAAG,CAAC,CAAA;;AAGV,YAAA,MAAM,WAAW,GAAE,EAAE,GAAG,EAAE,GAAE,CAAC,CAAA;AAC7B,YAAA,MAAM,kBAAkB,GAAG,IAAI,KAAK,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;;AAGzD,YAAA,IAAI,WAAW,GAAG,IAAI,GAAG,EAAE,CAAA;YAC3B,KAAI,IAAI,CAAC,GAAG,EAAE,EAAC,CAAC,IAAE,EAAE,EAAC,CAAC,EAAE,EAAE;AACtB,gBAAA,WAAW,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,EAAC,CAAC,CAAC,CAAA;AAC/B,aAAA;YACD,KAAI,IAAI,CAAC,GAAG,EAAE,EAAC,CAAC,IAAE,EAAE,EAAC,CAAC,EAAE,EAAE;AACzB,gBAAA,IAAI,QAAQ,GAAG,WAAW,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAA;AACtC,gBAAA,IAAG,QAAQ,EAAE;oBACT,kBAAkB,CAAC,QAAQ,GAAC,EAAE,CAAC,GAAG,CAAC,GAAC,CAAC,CAAA;AACrC,oBAAA,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,EAAC,EAAE,CAAC,QAAQ,CAAC,EAAC,EAAE,CAAC,CAAA;AAE/B,iBAAA;AAAK,qBAAA;AACF,oBAAA,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAA;AACjB,iBAAA;AACJ,aAAA;;AAED,YAAA,MAAM,0BAA0B,GAAG,WAAW,CAAC,kBAAkB,CAAC,CAAA;AAClE,YAAA,IAAK,CAAC,GAAE,0BAA0B,CAAC,MAAM,GAAC,CAAC,CAAA;AAC3C,YAAA,KAAI,IAAI,CAAC,GAAG,WAAW,GAAC,CAAC,EAAC,CAAC,IAAE,CAAC,EAAE,CAAC,EAAE,EAAE;AACjC,gBAAA,IAAI,YAAY,GAAG,CAAC,GAAG,EAAE,CAAA;AACzB,gBAAA,IAAI,KAAK,GAAG,EAAE,CAAC,YAAY,CAAC,CAAA;gBAC5B,IAAI,MAAM,GAAG,YAAY,GAAE,CAAC,GAAE,EAAE,CAAC,MAAM,GAAC,EAAE,CAAC,YAAY,GAAC,CAAC,CAAC,CAAC,EAAE,GAAC,IAAI,CAAA;AAClE,gBAAA,IAAG,kBAAkB,CAAC,CAAC,CAAC,KAAI,CAAC,EAAE;oBAC3B,KAAK,CAAC,IAAI,EAAC,KAAK,EAAE,EAAE,EAAC,MAAM,CAAC,CAAA;AAC/B,iBAAA;AAAM,qBAAA;oBACH,IAAG,CAAC,KAAI,0BAA0B,CAAC,CAAC,CAAC,EAAE;wBACnC,UAAU,CAAC,KAAK,CAAC,EAAE,EAAC,EAAE,EAAC,MAAM,CAAC,CAAA;AACjC,qBAAA;AAAM,yBAAA;AACH,wBAAA,CAAC,EAAE,CAAA;AACN,qBAAA;AAEJ,iBAAA;AACJ,aAAA;AACJ,SAAA;AACL,KAAC,CAAA;;IAED,MAAM,UAAU,GAAG,CAAC,EAAM,EAAC,EAAM,EAAC,EAAM,KAAI;AACxC,QAAA,MAAM,EAAE,GAAG,EAAE,CAAC,QAAQ,CAAA;AACtB,QAAA,MAAM,EAAE,GAAG,EAAE,CAAC,QAAQ,CAAA;AACtB,QAAA,MAAM,cAAc,GAAG,EAAE,CAAC,SAAS,CAAA;AACnC,QAAA,MAAM,cAAc,GAAG,EAAE,CAAC,SAAS,CAAA;AACnC,QAAA,IAAG,cAAc,GAAA,CAAA,iCAA2B;YACxC,IAAG,cAAc,uCAA4B,CAG5C;AAAM,iBAAA;AACH,gBAAA,kBAAkB,CAAC,EAAE,EAAC,EAAE,CAAC,CAAA;AAC5B,aAAA;AACJ,SAAA;AAAM,aAAA;YACH,IAAG,cAAc,uCAA4B;AACzC,gBAAA,aAAa,CAAC,EAAE,EAAC,EAAE,EAAC,EAAE,CAAC,CAAA;AAC1B,aAAA;AAAM,iBAAA;AACH,gBAAA,kBAAkB,CAAC,EAAE,EAAC,EAAE,CAAC,CAAA;AACzB,gBAAA,aAAa,CAAC,EAAE,EAAC,EAAE,CAAC,CAAA;AACvB,aAAA;AACJ,SAAA;AACL,KAAC,CAAA;IAED,MAAM,YAAY,GAAG,CAAC,EAAM,EAAC,EAAM,EAAC,SAAa,EAAC,MAAU,KAAI;;AAEzD,QAAA,MAAM,QAAQ,GAAG,EAAE,CAAC,KAAK,CAAA;AACzB,QAAA,MAAM,QAAQ,GAAG,EAAE,CAAC,KAAK,CAAA;QACzB,IAAI,EAAE,IAAI,EAAE,CAAC,EAAE,GAAE,EAAE,CAAC,EAAE,CAAC,CAAA;AACvB,QAAA,UAAU,CAAC,QAAQ,EAAC,QAAQ,EAAC,EAAE,CAAC,CAAA;;AAGhC,QAAA,UAAU,CAAC,EAAE,EAAC,EAAE,EAAC,EAAE,CAAC,CAAA;AAC3B,KAAC,CAAA;IACD,SAAS,cAAc,CAAC,EAAO,EAAE,EAAO,EAAE,SAAc,EAAC,MAAU,EAAA;QAC/D,IAAI,EAAE,KAAK,IAAI,EAAE;AACb,YAAA,YAAY,CAAC,EAAE,EAAE,SAAS,EAAC,MAAM,CAAC,CAAA;AACrC,SAAA;AAAM,aAAA;;YAEH,YAAY,CAAC,EAAE,EAAC,EAAmB,CAAC,CAAA;AACvC,SAAA;KACJ;;AAKD,IAAA,MAAM,WAAW,GAAG,CAAC,EAAM,EAAC,EAAM,KAAI;AAClC,QAAA,OAAO,EAAE,CAAC,IAAI,KAAK,EAAE,CAAC,IAAI,IAAK,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,GAAG,CAAA;AACpD,KAAC,CAAA;AACD,IAAA,MAAM,OAAO,GAAG,CAAC,KAAS,KAAI;AAC1B,QAAA,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC,CAAA;AACxB,KAAC,CAAA;AACD,IAAA,MAAM,KAAK,GAAG,CAAC,EAAO,EAAE,EAAO,EAAE,SAAc,EAAC,MAAA,GAAY,IAAI,KAAI;;QAEhE,IAAG,EAAE,IAAI,WAAW,CAAC,EAAE,EAAC,EAAE,CAAC,EAAE;YACzB,OAAO,CAAC,EAAE,CAAC,CAAA;YACX,EAAE,GAAE,IAAI,CAAA;AACX,SAAA;AAED,QAAA,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,EAAE,CAAA;AAC5B,QAAA,QAAQ,IAAI;AACR,YAAA,KAAK,IAAI;AACL,gBAAA,WAAW,CAAC,EAAE,EAAE,EAAE,EAAE,SAAS,CAAC,CAAA;gBAC9B,MAAM;AACV,YAAA;AACI,gBAAA,IAAI,SAAS,GAAA,CAAA,2BAAuB;oBAChC,cAAc,CAAC,EAAE,EAAE,EAAE,EAAE,SAAS,EAAC,MAAM,CAAC,CAAA;AAE3C,iBAAA;AAAM,qBAAA,IAAI,SAAS,GAAA,CAAA,sCAAkC;AAClD,oBAAA,gBAAgB,CAAC,EAAE,EAAE,EAAE,EAAE,SAAS,CAAC,CAAA;AACtC,iBAAA;AACR,SAAA;AAEL,KAAC,CAAA;AACD,IAAA,IAAI,MAAM,GAAG,CAAC,KAAa,EAAE,SAAc,KAAI;;QAE3C,KAAK,CAAC,IAAI,EAAE,KAAK,EAAE,SAAS,CAAC,CAAA;AACjC,KAAC,CAAA;IACD,OAAO;AACH,QAAA,SAAS,EAAE,YAAY,CAAC,MAAM,CAAC;KAClC,CAAA;AACL;;ACtWA;AACM,SAAU,CAAC,CAAC,IAAQ,EAAC,eAAmB,EAAC,WAAa,IAAI,EAAA;AAC5D,IAAA,MAAM,GAAG,GAAG,SAAS,CAAC,MAAM,CAAA;AAC5B,IAAA,IAAG,GAAG,KAAK,CAAC,EAAE;;QAEV,IAAG,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,EAAE;AACtD,YAAA,IAAG,OAAO,CAAC,eAAe,CAAC,EAAE;gBAC1B,OAAO,WAAW,CAAC,IAAI,EAAC,IAAI,EAAC,CAAC,eAAe,CAAC,CAAC,CAAA;AACjD,aAAA;AACD,YAAA,OAAO,WAAW,CAAC,IAAI,EAAC,eAAe,CAAC,CAAA;AAC5C,SAAA;AAAM,aAAA;YACH,OAAO,WAAW,CAAC,IAAI,EAAC,IAAI,EAAC,eAAe,CAAC,CAAA;AAChD,SAAA;AACJ,KAAA;AAAK,SAAA;QACF,IAAG,GAAG,GAAC,CAAC,EAAE;AACN,YAAA,QAAQ,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,EAAC,CAAC,CAAC,CAAA;AACrD,SAAA;aAAM,IAAI,GAAG,KAAI,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,EAAE;AACtC,YAAA,QAAQ,GAAG,CAAC,QAAQ,CAAC,CAAA;AACxB,SAAA;QACD,OAAO,WAAW,CAAC,IAAI,EAAC,eAAe,EAAC,QAAQ,CAAC,CAAA;AACpD,KAAA;AACL;;ACxBA;AAMA;AACA,MAAM,gBAAgB,GAAG,MAAM,CAAC,EAAC,SAAS,EAAC,EAAC,OAAO,CAAC,CAAA;MAEvC,SAAS,GAAG,CAAC,aAAiB,EAAC,SAAgB,KAAI;AAC5D,IAAA,IAAI,GAAG,GAAG,YAAY,CAAC,gBAAgB,CAAC,CAAC,SAAS,CAAC,aAAa,EAAC,SAAS,CAAC,CAAA;AAC3E,IAAA,IAAI,EAAC,KAAK,EAAC,GAAG,GAAG,CAAA;AACjB,IAAA,GAAG,CAAC,KAAK,GAAG,UAAS,SAAa,EAAA;;AAE9B,QAAA,SAAS,GAAG,OAAO,CAAC,YAAY,CAAC,SAAS,CAAC,CAAA;AAE3C,QAAA,SAAS,CAAC,SAAS,GAAG,EAAE,CAAA;;QAGxB,KAAK,CAAC,SAAS,CAAC,CAAA;AACpB,KAAC,CAAA;AACD,IAAA,OAAS,GAAG,CAAA;AAChB;;;;"}